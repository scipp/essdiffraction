
<!DOCTYPE html>


<html lang="en" data-content_root="../../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>POWGEN data reduction &#8212; ESSdiffraction</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  <!--
    this give us a css class that will be invisible only if js is disabled
  -->
  <noscript>
    <style>
      .pst-js-only { display: none !important; }

    </style>
  </noscript>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../../_static/styles/theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />
<link href="../../_static/styles/pydata-sphinx-theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />

    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=03e43079" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../../_static/autodoc_pydantic.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-design.min.css?v=95c83b7e" />
    <link rel="stylesheet" type="text/css" href="../../_static/nbsphinx-code-cells.css?v=2aa19091" />
  
  <!-- So that users can add custom icons -->
  <script src="../../_static/scripts/fontawesome.js?digest=8878045cc6db502f8baf"></script>
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf" />
<link rel="preload" as="script" href="../../_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf" />

    <script src="../../_static/documentation_options.js?v=721759c0"></script>
    <script src="../../_static/doctools.js?v=fd6eb6e6"></script>
    <script src="../../_static/sphinx_highlight.js?v=6ffebe34"></script>
    <script src="../../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../../_static/copybutton.js?v=f281be69"></script>
    <script src="../../_static/design-tabs.js?v=f930bc37"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@jupyter-widgets/html-manager@^1.0.1/dist/embed-amd.js"></script>
    <script>window.MathJax = {"options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script>window.MathJax = {"tex": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true}, "options": {"ignoreHtmlClass": "tex2jax_ignore|mathjax_ignore|document", "processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@4/tex-mml-chtml.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'user-guide/sns-instruments/POWGEN_data_reduction';</script>
    <script src="../../_static/anaconda-icon.js?v=461bdc62"></script>
    <link rel="icon" href="../../_static/favicon.svg"/>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Common Tools" href="../common/index.html" />
    <link rel="prev" title="SNS instruments" href="index.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  <meta name="docsearch:version" content="26.2.0" />
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <dialog id="pst-search-dialog">
    
<form class="bd-search d-flex align-items-center"
      action="../../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form>
  </dialog>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
<div class="bd-header__inner bd-page-width">
  <button class="pst-navbar-icon sidebar-toggle primary-toggle" aria-label="Site navigation">
    <span class="fa-solid fa-bars"></span>
  </button>
  
  
  <div class="col-lg-3 navbar-header-items__start">
    
      <div class="navbar-item">

  
    
  

<a class="navbar-brand logo" href="../../index.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../../_static/logo.svg" class="logo__image only-light" alt="ESSdiffraction - Home"/>
    <img src="../../_static/logo-dark.svg" class="logo__image only-dark pst-js-only" alt="ESSdiffraction - Home"/>
  
  
</a></div>
    
  </div>
  
  <div class="col-lg-9 navbar-header-items">
    
    <div class="me-auto navbar-header-items__center">
      
        <div class="navbar-item">
<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item current active">
  <a class="nav-link nav-internal" href="../index.html">
    User Guide
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../api-reference/index.html">
    API Reference
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../developer/index.html">
    Development
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../about/index.html">
    About
  </a>
</li>

            <li class="nav-item dropdown">
                <button class="btn dropdown-toggle nav-item" type="button"
                data-bs-toggle="dropdown" aria-expanded="false"
                aria-controls="pst-nav-more-links">
                    More
                </button>
                <ul id="pst-nav-more-links" class="dropdown-menu">
                    
<li class=" ">
  <a class="nav-link dropdown-item nav-external" href="https://scipp.github.io/essreduce">
    ESSreduce
  </a>
</li>


<li class=" ">
  <a class="nav-link dropdown-item nav-external" href="https://scipp.github.io/plopp">
    Plopp
  </a>
</li>


<li class=" ">
  <a class="nav-link dropdown-item nav-external" href="https://scipp.github.io/sciline">
    Sciline
  </a>
</li>


<li class=" ">
  <a class="nav-link dropdown-item nav-external" href="https://scipp.github.io">
    Scipp
  </a>
</li>


<li class=" ">
  <a class="nav-link dropdown-item nav-external" href="https://scipp.github.io/scippneutron">
    ScippNeutron
  </a>
</li>


<li class=" ">
  <a class="nav-link dropdown-item nav-external" href="https://scipp.github.io/scippnexus">
    ScippNexus
  </a>
</li>

                </ul>
            </li>
            
  </ul>
</nav></div>
      
    </div>
    
    
    <div class="navbar-header-items__end">
      
        <div class="navbar-item navbar-persistent--container">
          

<button class="btn btn-sm pst-navbar-icon search-button search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
</button>
        </div>
      
      
        <div class="navbar-item">

<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button></div>
      
        <div class="navbar-item"><ul class="navbar-icon-links"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/scipp/essdiffraction" title="GitHub" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-github fa-lg" aria-hidden="true"></i>
            <span class="sr-only">GitHub</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://pypi.org/project/essdiffraction/" title="PyPI" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-python fa-lg" aria-hidden="true"></i>
            <span class="sr-only">PyPI</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://anaconda.org/conda-forge/essdiffraction" title="Conda" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-custom fa-anaconda fa-lg" aria-hidden="true"></i>
            <span class="sr-only">Conda</span></a>
        </li>
</ul></div>
      
    </div>
    
  </div>
  
  
    <div class="navbar-persistent--mobile">

<button class="btn btn-sm pst-navbar-icon search-button search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
</button>
    </div>
  

  
</div>

    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <dialog id="pst-primary-sidebar-modal"></dialog>
      <div id="pst-primary-sidebar" class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
        
          
          
            <div class="navbar-item">
<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item current active">
  <a class="nav-link nav-internal" href="../index.html">
    User Guide
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../api-reference/index.html">
    API Reference
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../developer/index.html">
    Development
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../about/index.html">
    About
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-external" href="https://scipp.github.io/essreduce">
    ESSreduce
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-external" href="https://scipp.github.io/plopp">
    Plopp
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-external" href="https://scipp.github.io/sciline">
    Sciline
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-external" href="https://scipp.github.io">
    Scipp
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-external" href="https://scipp.github.io/scippneutron">
    ScippNeutron
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-external" href="https://scipp.github.io/scippnexus">
    ScippNexus
  </a>
</li>

  </ul>
</nav></div>
          
        
      </div>
    
    
    
      <div class="sidebar-header-items__end">
        
          <div class="navbar-item">

<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button></div>
        
          <div class="navbar-item"><ul class="navbar-icon-links"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/scipp/essdiffraction" title="GitHub" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-github fa-lg" aria-hidden="true"></i>
            <span class="sr-only">GitHub</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://pypi.org/project/essdiffraction/" title="PyPI" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-python fa-lg" aria-hidden="true"></i>
            <span class="sr-only">PyPI</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://anaconda.org/conda-forge/essdiffraction" title="Conda" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-custom fa-anaconda fa-lg" aria-hidden="true"></i>
            <span class="sr-only">Conda</span></a>
        </li>
</ul></div>
        
      </div>
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
<nav class="bd-docs-nav bd-links"
     aria-label="Section Navigation">
  <p class="bd-links__title" role="heading" aria-level="1">Section Navigation</p>
  <div class="bd-toc-item navbar-nav"><ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../dream/index.html">DREAM</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../dream/dream-powder-reduction.html">DREAM powder data reduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../dream/dream-advanced-powder-reduction.html">DREAM advanced data reduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../dream/dream-instrument-view.html">DREAM instrument view</a></li>
<li class="toctree-l2"><a class="reference internal" href="../dream/workflow-widget-dream.html">Workflow widgets example</a></li>
<li class="toctree-l2"><a class="reference internal" href="../dream/dream-detector-diagnostics.html">DREAM Detector Diagnostics</a></li>
<li class="toctree-l2"><a class="reference internal" href="../dream/dream-visualize-absorption.html">Visualize effect of absorption</a></li>
<li class="toctree-l2"><a class="reference internal" href="../dream/dream-make-tof-lookup-table.html">Create a time-of-flight lookup table for DREAM</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../beer/index.html">BEER</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../beer/beer_modulation_mcstas.html">BEER (modulation) McStas data reduction</a></li>
</ul>
</details></li>
<li class="toctree-l1 current active has-children"><a class="reference internal" href="index.html">SNS instruments</a><details open="open"><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul class="current">
<li class="toctree-l2 current active"><a class="current reference internal" href="#">POWGEN data reduction</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../common/index.html">Common Tools</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../common/vanadium_processing.html">Vanadium processing</a></li>
</ul>
</details></li>
</ul>
</div>
</nav></div>
        <div class="sidebar-primary-item">
<div
    id="pst-page-navigation-heading-2"
    class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
  </div>
  <nav class="bd-toc-nav page-toc" aria-labelledby="pst-page-navigation-heading-2">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#Introduction">Introduction</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#Create-and-configure-the-workflow">Create and configure the workflow</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#Use-the-workflow">Use the workflow</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#Compute-final-result">Compute final result</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#Save-reduced-data-to-file">Save reduced data to file</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#Compute-intermediate-results">Compute intermediate results</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#Group-by-scattering-angle">Group by scattering angle</a></li>
</ul>
  </nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
      <div class="sidebar-primary-item">
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../../_sources/user-guide/sns-instruments/POWGEN_data_reduction.ipynb"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div></div>
  </div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        
          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item">

<nav aria-label="Breadcrumb" class="d-print-none">
  <ul class="bd-breadcrumbs">
    
    <li class="breadcrumb-item breadcrumb-home">
      <a href="../../index.html" class="nav-link" aria-label="Home">
        <i class="fa-solid fa-home"></i>
      </a>
    </li>
    
    <li class="breadcrumb-item"><a href="../index.html" class="nav-link">User Guide</a></li>
    
    
    <li class="breadcrumb-item"><a href="index.html" class="nav-link">SNS instruments</a></li>
    
    <li class="breadcrumb-item active" aria-current="page"><span class="ellipsis">POWGEN data reduction</span></li>
  </ul>
</nav>
</div>
      
    </div>
  
  
</div>
</div>
              
              
              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section id="POWGEN-data-reduction">
<h1>POWGEN data reduction<a class="headerlink" href="#POWGEN-data-reduction" title="Link to this heading">#</a></h1>
<section id="Introduction">
<h2>Introduction<a class="headerlink" href="#Introduction" title="Link to this heading">#</a></h2>
<p>This notebook gives a concise overview of how to use the ESSDiffraction package with Sciline. It uses a simple reduction workflow for the SNS <a class="reference external" href="https://sns.gov/powgen">POWGEN</a> experiment.</p>
<p>We begin with relevant imports. We will be using tutorial data downloaded with <code class="docutils literal notranslate"><span class="pre">pooch</span></code>. If you get an error about a missing module <code class="docutils literal notranslate"><span class="pre">pooch</span></code>, you can install it with <code class="docutils literal notranslate"><span class="pre">!pip</span> <span class="pre">install</span> <span class="pre">pooch</span></code>:</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[1]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">scipp</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">sc</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">scippneutron</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">scn</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">scippneutron.io</span>

<span class="kn">from</span><span class="w"> </span><span class="nn">ess</span><span class="w"> </span><span class="kn">import</span> <span class="n">powder</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">ess.snspowder</span><span class="w"> </span><span class="kn">import</span> <span class="n">powgen</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">ess.snspowder.powgen.data</span>  <span class="c1"># noqa: F401</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">ess.powder.types</span><span class="w"> </span><span class="kn">import</span> <span class="o">*</span>
</pre></div>
</div>
</div>
</section>
<section id="Create-and-configure-the-workflow">
<h2>Create and configure the workflow<a class="headerlink" href="#Create-and-configure-the-workflow" title="Link to this heading">#</a></h2>
<p>We begin by creating the Powgen workflow object which is a skeleton for reducing Powgen data, with pre-configured steps.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[2]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">workflow</span> <span class="o">=</span> <span class="n">powgen</span><span class="o">.</span><span class="n">PowgenWorkflow</span><span class="p">()</span>
</pre></div>
</div>
</div>
<p>We then need to set the missing parameters which are specific to each experiment (the keys are types defined in <a class="reference internal" href="../../generated/modules/ess.powder.types.html"><span class="doc">essdiffraction.powder.types</span></a>):</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[3]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">workflow</span><span class="p">[</span><span class="n">Filename</span><span class="p">[</span><span class="n">SampleRun</span><span class="p">]]</span> <span class="o">=</span> <span class="n">powgen</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">powgen_tutorial_sample_file</span><span class="p">()</span>
<span class="n">workflow</span><span class="p">[</span><span class="n">Filename</span><span class="p">[</span><span class="n">VanadiumRun</span><span class="p">]]</span> <span class="o">=</span> <span class="n">powgen</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">powgen_tutorial_vanadium_file</span><span class="p">()</span>
<span class="n">workflow</span><span class="p">[</span><span class="n">CalibrationFilename</span><span class="p">]</span> <span class="o">=</span> <span class="n">powgen</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">powgen_tutorial_calibration_file</span><span class="p">()</span>
<span class="c1"># The upper bounds mode is not yet implemented.</span>
<span class="n">workflow</span><span class="p">[</span><span class="n">UncertaintyBroadcastMode</span><span class="p">]</span> <span class="o">=</span> <span class="n">UncertaintyBroadcastMode</span><span class="o">.</span><span class="n">drop</span>
<span class="c1"># Edges for binning in d-spacing</span>
<span class="n">workflow</span><span class="p">[</span><span class="n">DspacingBins</span><span class="p">]</span> <span class="o">=</span> <span class="n">sc</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="s2">&quot;dspacing&quot;</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">2.3434</span><span class="p">,</span> <span class="mi">201</span><span class="p">,</span> <span class="n">unit</span><span class="o">=</span><span class="s2">&quot;angstrom&quot;</span><span class="p">)</span>
<span class="c1"># Mask in time-of-flight to crop to valid range</span>
<span class="n">workflow</span><span class="p">[</span><span class="n">TofMask</span><span class="p">]</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="p">(</span><span class="n">x</span> <span class="o">&lt;</span> <span class="n">sc</span><span class="o">.</span><span class="n">scalar</span><span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="n">unit</span><span class="o">=</span><span class="s2">&quot;us&quot;</span><span class="p">))</span> <span class="o">|</span> <span class="p">(</span>
    <span class="n">x</span> <span class="o">&gt;</span> <span class="n">sc</span><span class="o">.</span><span class="n">scalar</span><span class="p">(</span><span class="mf">16666.67</span><span class="p">,</span> <span class="n">unit</span><span class="o">=</span><span class="s2">&quot;us&quot;</span><span class="p">)</span>
<span class="p">)</span>
<span class="n">workflow</span><span class="p">[</span><span class="n">TwoThetaMask</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
<span class="n">workflow</span><span class="p">[</span><span class="n">WavelengthMask</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
<span class="c1"># No pixel masks</span>
<span class="n">workflow</span> <span class="o">=</span> <span class="n">powder</span><span class="o">.</span><span class="n">with_pixel_mask_filenames</span><span class="p">(</span><span class="n">workflow</span><span class="p">,</span> <span class="p">[])</span>
</pre></div>
</div>
</div>
</section>
<section id="Use-the-workflow">
<h2>Use the workflow<a class="headerlink" href="#Use-the-workflow" title="Link to this heading">#</a></h2>
<section id="Compute-final-result">
<h3>Compute final result<a class="headerlink" href="#Compute-final-result" title="Link to this heading">#</a></h3>
<p>We can get the graph for computing the final intensity as a function of d-spacing:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[4]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">IntensityDspacing</span><span class="p">[</span><span class="n">SampleRun</span><span class="p">]</span> <span class="ow">in</span> <span class="n">workflow</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">IntensityDspacing</span><span class="p">[</span><span class="n">SampleRun</span><span class="p">])</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[4]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
True
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[5]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">workflow</span><span class="o">.</span><span class="n">visualize</span><span class="p">(</span><span class="n">IntensityDspacing</span><span class="p">[</span><span class="n">SampleRun</span><span class="p">],</span> <span class="n">graph_attr</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;rankdir&quot;</span><span class="p">:</span> <span class="s2">&quot;LR&quot;</span><span class="p">})</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[5]:
</pre></div>
</div>
<div class="output_area docutils container">
<img alt="../../_images/user-guide_sns-instruments_POWGEN_data_reduction_8_0.svg" src="../../_images/user-guide_sns-instruments_POWGEN_data_reduction_8_0.svg" />
</div>
</div>
<p>Now we compute the result:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[6]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">result</span> <span class="o">=</span> <span class="n">workflow</span><span class="o">.</span><span class="n">compute</span><span class="p">(</span><span class="n">IntensityDspacing</span><span class="p">[</span><span class="n">SampleRun</span><span class="p">])</span>
<span class="n">result</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[6]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div><!-- Original source from -->
<!-- https://github.com/jsignell/xarray/blob/1d960933ab252e0f79f7e050e6c9261d55568057/xarray/static/html/icons-svg-inline.html -->
<svg style="position: absolute; width: 0; height: 0; overflow: hidden">
<defs>
<symbol id="icon-database" viewBox="0 0 32 32">
<title>Show/Hide data repr</title>
<path d="M16 0c-8.837 0-16 2.239-16 5v4c0 2.761 7.163 5 16 5s16-2.239 16-5v-4c0-2.761-7.163-5-16-5z"></path>
<path d="M16 17c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
<path d="M16 26c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
</symbol>
<symbol id="icon-file-text2" viewBox="0 0 32 32">
<title>Show/Hide attributes</title>
<path d="M28.681 7.159c-0.694-0.947-1.662-2.053-2.724-3.116s-2.169-2.030-3.116-2.724c-1.612-1.182-2.393-1.319-2.841-1.319h-15.5c-1.378 0-2.5 1.121-2.5 2.5v27c0 1.378 1.122 2.5 2.5 2.5h23c1.378 0 2.5-1.122 2.5-2.5v-19.5c0-0.448-0.137-1.23-1.319-2.841zM24.543 5.457c0.959 0.959 1.712 1.825 2.268 2.543h-4.811v-4.811c0.718 0.556 1.584 1.309 2.543 2.268zM28 29.5c0 0.271-0.229 0.5-0.5 0.5h-23c-0.271 0-0.5-0.229-0.5-0.5v-27c0-0.271 0.229-0.5 0.5-0.5 0 0 15.499-0 15.5 0v7c0 0.552 0.448 1 1 1h7v19.5z"></path>
<path d="M23 26h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
<path d="M23 22h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
<path d="M23 18h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
</symbol>
</defs>
</svg><style id="scipp-style-sheet">.sc-root{--sc-background-color0:var(--jp-layout-color0,#fff);--sc-background-color1:var(--jp-layout-color1,#fcfcfc);--sc-background-color2:var(--jp-layout-color2,#efefef);--sc-inverse-background-color0:var(--jp-inverse-layout-color4,#111);--sc-font-color0:var(--jp-content-font-color0,#000);--sc-font-color1:var(--jp-content-font-color1,#555);--sc-font-color2:var(--jp-content-font-color2,#888);--sc-font-color3:var(--jp-content-font-color3,#ccc);}body.vscode-dark .sc-root{--sc-font-color0:rgba(255,255,255,1);--sc-font-color1:rgba(255,255,255,0.70);--sc-font-color2:rgba(255,255,255,0.54);--sc-font-color3:rgba(255,255,255,0.38);--sc-border-color:#1F1F1F;--sc-disabled-color:#515151;--sc-background-color0:#111111;--sc-background-color1:#111111;--sc-background-color2:#313131;}.sc-wrap{font-size:14px;min-width:300px;max-width:800px;}.sc-var-attrs .sc-wrap{padding-left:3em;}.sc-header{padding-top:6px;padding-bottom:6px;margin-bottom:4px;border-bottom:solid 1px #ddd;}.sc-header > div,.sc-header > ul{display:inline;margin-top:0;margin-bottom:0;}.sc-obj-type,.sc-array-name{margin-left:2px;margin-right:10px;}.sc-obj-type{color:var(--sc-font-color1);}.sc-underlying-size{color:var(--sc-font-color2);}.sc-sections,.reveal .sc-sections{padding-left:0 !important;display:grid;grid-template-columns:150px auto auto auto 1fr 20px 20px;}.sc-section-item{display:contents;}.sc-section-item input{display:none;}.sc-section-item input:enabled + label{cursor:pointer;color:var(--sc-font-color1);}.sc-section-item input:enabled + label:hover{color:var(--sc-font-color0);}.sc-section-summary{grid-column:1;font-weight:500;}.sc-section-summary > span{display:inline-block;padding-left:0.5em;}.sc-section-summary-in:disabled + label{color:var(--sc-font-color1);}.sc-section-summary-in + label:before{display:inline-block;content:'‚ñ∫';font-size:11px;width:15px;text-align:center;}.sc-section-summary-in:disabled + label:before{display:none;}.sc-section-summary-in:checked + label:before{content:'‚ñº';}.sc-section-summary-in:checked + label > span{display:none;}.sc-section-summary,.sc-section-inline-details{padding-top:4px;padding-bottom:4px;}.sc-section-inline-details{grid-column:2 / 6;}.sc-section-details{display:none;grid-column:1 / -1;margin-bottom:5px;}.sc-section-summary-in:checked ~ .sc-section-details{display:contents;}.sc-array-wrap{grid-column:1 / -1;display:grid;grid-template-columns:20px auto;}.sc-array-wrap > label{grid-column:1;vertical-align:top;}.sc-preview{color:var(--sc-font-color2);}.sc-array-preview,.sc-array-data{padding:0 5px !important;grid-column:2;}.sc-array-data,.sc-array-in:checked ~ .sc-array-preview{display:none;}.sc-array-in:checked ~ .sc-array-data,.sc-array-preview{display:inline-block;}.sc-dim-list{display:inline-block !important;list-style:none;padding:0 !important;margin:0;}.sc-dim-list li{display:inline-block;padding:0;margin:0!important;}.sc-dim-list:before{content:'(';}.sc-dim-list:after{content:')';}.sc-dim-list li:not(:last-child):after{content:',';padding-right:5px;}.sc-dim-list li span,.sc-standalone-var-name > span span,.sc-var-name > span span{padding:0 !important;}.sc-aligned{font-weight:bold;}.sc-var-list,.sc-var-item,.reveal .sc-var-list,.reveal .sc-var-item{display:contents;}.sc-var-item > div,.sc-var-item label,.sc-var-item > .sc-var-name span{background-color:var(--sc-background-color1);margin-bottom:0;}.sc-var-item > .sc-var-name:hover span{padding-right:5px;}.sc-var-list > li:nth-child(odd) > div,.sc-var-list > li:nth-child(odd) > label,.sc-var-list > li:nth-child(odd) > .sc-var-name span{background-color:var(--sc-background-color2);}.sc-var-name{grid-column:1;}.sc-var-dims{grid-column:2;}.sc-var-dtype{grid-column:3;text-align:right;color:var(--sc-font-color2);}.sc-var-unit{grid-column:4;text-align:left;color:var(--sc-font-color1);max-width:50pt;text-overflow:ellipsis;}.sc-value-preview{grid-column:5;}.sc-var-preview-variances{text-align:right;}.sc-sections .sc-section-item .sc-section-summary,.sc-sections .sc-section-item .sc-section-inline-details,.sc-section-item .sc-var-list .sc-var-item > div,.sc-section-item .sc-var-list .sc-var-item > label,.sc-section-details .sc-var-list .sc-var-item > div,.sc-section-details .sc-var-list .sc-var-item > label{margin-top:0;margin-bottom:0;}.sc-var-name,.sc-var-dims,.sc-var-dtype,.sc-var-unit,.sc-preview,.sc-attrs dt{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;padding-right:10px;}.sc-var-name:hover,.sc-var-dims:hover,.sc-var-dtype:hover,.sc-var-unit:hover,.sc-attrs dt:hover{overflow:visible;width:auto;z-index:1;}.sc-var-attrs{display:block;}.sc-var-data,.reveal .sc-var-data{display:none;}.sc-var-attrs,.sc-var-data{background-color:var(--sc-background-color0) !important;padding-bottom:5px !important;}.sc-var-attrs-in:checked ~ .sc-var-attrs{display:none;}.sc-var-data-in:checked ~ .sc-var-data{display:block;}.sc-var-data > table{float:right;}.sc-var-name span,.sc-var-data{padding-left:25px !important;}.sc-var-attrs,.sc-var-data{grid-column:1 / -1;}dl.sc-attrs{padding:0;margin:0;display:grid;grid-template-columns:125px auto;}.sc-attrs dt,dd{padding:0;margin:0;float:left;padding-right:10px;width:auto;}.sc-attrs dt{font-weight:normal;grid-column:1;}.sc-attrs dt:hover span{display:inline-block;padding-right:10px;}.sc-attrs dd{grid-column:2;white-space:pre-wrap;word-break:break-all;}.sc-icon-database,.sc-icon-file-text2{display:inline-block;vertical-align:middle;width:1em;height:1.5em !important;stroke-width:0;stroke:currentColor;fill:currentColor;}label.sc-hide-icon svg{opacity:0;}.sc-standalone-var-name{grid-column:1/3;}.sc-standalone-var-name span{padding-left:25px;padding-right:10px;}.sc-title{font-weight:bold;font-size:1.5em;}.sc-subtitle{font-weight:normal;font-style:italic;text-align:left;font-size:1.2em;padding:1px;}.sc-label{fill:var(--sc-font-color0,#444444);text-anchor:middle;}.sc-name{fill:var(--sc-font-color0,#111111);}.sc-inset-line{stroke:var(--sc-font-color1);stroke-width:0.05;stroke-dasharray:0.2,0.2;}.sc-log-wrap{height:25ex;resize:vertical;overflow-y:scroll;display:flex;flex-direction:column-reverse;border:1px solid;border-color:var(--jp-border-color2);background-color:var(--sc-background-color1);}div.sc-log{line-height:2.5ex;}table.sc-log{table-layout:auto;border-collapse:collapse;}tr.sc-log:nth-child(even){background-color:var(--sc-background-color0);}tr.sc-log > td{vertical-align:top;padding-bottom:0.5ex;}.sc-log-time-stamp{min-width:22ch;font-family:var(--jp-code-font-family);color:var(--sc-font-color2);}.sc-log-level{min-width:10ch;}tr.sc-log-debug td.sc-log-level{color:var(--jp-accent-color1);}tr.sc-log-info td.sc-log-level{color:var(--jp-info-color1);}tr.sc-log-warning td.sc-log-level{color:var(--jp-warn-color1);}tr.sc-log-error td.sc-log-level{font-weight:bold;color:var(--jp-error-color2);}tr.sc-log-critical td.sc-log-level{font-weight:bold;color:var(--sc-background-color0);background-color:var(--jp-error-color1);}.sc-log-message{white-space:pre-wrap;width:100%;}.sc-log-html-payload{white-space:normal;}.sc-log-name{padding-right:0.5em;text-align:right;white-space:pre-wrap;color:var(--sc-font-color3);}</style><div class='sc-wrap sc-root'><div class='sc-header'><div class='sc-obj-type'>scipp.DataArray (700.96 MB)</div></div><ul class='sc-sections'><li class='sc-section-item'><input id='section-545780e2-183e-4106-814b-fdea836edb28' class='sc-section-summary-in' type='checkbox' disabled ><label for='section-545780e2-183e-4106-814b-fdea836edb28' class='sc-section-summary' >Dimensions:</label><div class='sc-section-inline-details'><ul class='sc-dim-list'><li><span class='sc-has-index'>dspacing</span>: 200</li></ul></div><div class='sc-section-details'></div></li><li class='sc-section-item'><input id='section-81e908d3-b97e-47c5-ba78-33c320dd3602' class='sc-section-summary-in' type='checkbox'  checked><label for='section-81e908d3-b97e-47c5-ba78-33c320dd3602' class='sc-section-summary'  title='Expand/collapse section'>Coordinates: <span>(3)</span></label><div class='sc-section-inline-details'></div><div class='sc-section-details'><ul class='sc-var-list'><li class='sc-var-item'><div class='sc-var-name'><span class='sc-aligned'>dspacing</span></div><div class='sc-var-dims'>(dspacing [bin-edge])</div><div class='sc-var-dtype'>float64</div><div class='sc-var-unit'>√Ö</div><div class='sc-value-preview sc-preview'><span><div>0.0, 0.012, ..., 2.332, 2.343</div></span></div><input id='attrs-c1a92d7b-3147-48aa-b402-d79dc6649141' class='sc-var-attrs-in' type='checkbox' disabled><label for='attrs-c1a92d7b-3147-48aa-b402-d79dc6649141' class='sc-hide-icon' title='Show/Hide attributes'><svg class='icon sc-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-d1a711b2-3ac4-40c4-895d-d07d3b92863d' class='sc-var-data-in' type='checkbox'><label for='data-d1a711b2-3ac4-40c4-895d-d07d3b92863d' title='Show/Hide data repr'><svg class='icon sc-icon-database'><use xlink:href='#icon-database'></use></svg></label><pre class='sc-var-data'>Values:<br>array([0.      , 0.011717, 0.023434, 0.035151, 0.046868, 0.058585,
       0.070302, 0.082019, 0.093736, 0.105453, 0.11717 , 0.128887,
       0.140604, 0.152321, 0.164038, 0.175755, 0.187472, 0.199189,
       0.210906, 0.222623, 0.23434 , 0.246057, 0.257774, 0.269491,
       0.281208, 0.292925, 0.304642, 0.316359, 0.328076, 0.339793,
       0.35151 , 0.363227, 0.374944, 0.386661, 0.398378, 0.410095,
       0.421812, 0.433529, 0.445246, 0.456963, 0.46868 , 0.480397,
       0.492114, 0.503831, 0.515548, 0.527265, 0.538982, 0.550699,
       0.562416, 0.574133, 0.58585 , 0.597567, 0.609284, 0.621001,
       0.632718, 0.644435, 0.656152, 0.667869, 0.679586, 0.691303,
       0.70302 , 0.714737, 0.726454, 0.738171, 0.749888, 0.761605,
       0.773322, 0.785039, 0.796756, 0.808473, 0.82019 , 0.831907,
       0.843624, 0.855341, 0.867058, 0.878775, 0.890492, 0.902209,
       0.913926, 0.925643, 0.93736 , 0.949077, 0.960794, 0.972511,
       0.984228, 0.995945, 1.007662, 1.019379, 1.031096, 1.042813,
       1.05453 , 1.066247, 1.077964, 1.089681, 1.101398, 1.113115,
       1.124832, 1.136549, 1.148266, 1.159983, 1.1717  , 1.183417,
       1.195134, 1.206851, 1.218568, 1.230285, 1.242002, 1.253719,
       1.265436, 1.277153, 1.28887 , 1.300587, 1.312304, 1.324021,
       1.335738, 1.347455, 1.359172, 1.370889, 1.382606, 1.394323,
       1.40604 , 1.417757, 1.429474, 1.441191, 1.452908, 1.464625,
       1.476342, 1.488059, 1.499776, 1.511493, 1.52321 , 1.534927,
       1.546644, 1.558361, 1.570078, 1.581795, 1.593512, 1.605229,
       1.616946, 1.628663, 1.64038 , 1.652097, 1.663814, 1.675531,
       1.687248, 1.698965, 1.710682, 1.722399, 1.734116, 1.745833,
       1.75755 , 1.769267, 1.780984, 1.792701, 1.804418, 1.816135,
       1.827852, 1.839569, 1.851286, 1.863003, 1.87472 , 1.886437,
       1.898154, 1.909871, 1.921588, 1.933305, 1.945022, 1.956739,
       1.968456, 1.980173, 1.99189 , 2.003607, 2.015324, 2.027041,
       2.038758, 2.050475, 2.062192, 2.073909, 2.085626, 2.097343,
       2.10906 , 2.120777, 2.132494, 2.144211, 2.155928, 2.167645,
       2.179362, 2.191079, 2.202796, 2.214513, 2.22623 , 2.237947,
       2.249664, 2.261381, 2.273098, 2.284815, 2.296532, 2.308249,
       2.319966, 2.331683, 2.3434  ])</pre></span></li><li class='sc-var-item'><div class='sc-var-name'><span>sample_position</span></div><div class='sc-var-dims'>()</div><div class='sc-var-dtype'>vector3</div><div class='sc-var-unit'>m</div><div class='sc-value-preview sc-preview'><span><div>[0. 0. 0.]</div></span></div><input id='attrs-0430c9a9-9c3d-4524-a48b-e38d8a742588' class='sc-var-attrs-in' type='checkbox' disabled><label for='attrs-0430c9a9-9c3d-4524-a48b-e38d8a742588' class='sc-hide-icon' title='Show/Hide attributes'><svg class='icon sc-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-2411bcc6-2196-4909-9cdf-79842b04f914' class='sc-var-data-in' type='checkbox'><label for='data-2411bcc6-2196-4909-9cdf-79842b04f914' title='Show/Hide data repr'><svg class='icon sc-icon-database'><use xlink:href='#icon-database'></use></svg></label><pre class='sc-var-data'>Values:<br>array([0., 0., 0.])</pre></span></li><li class='sc-var-item'><div class='sc-var-name'><span>source_position</span></div><div class='sc-var-dims'>()</div><div class='sc-var-dtype'>vector3</div><div class='sc-var-unit'>m</div><div class='sc-value-preview sc-preview'><span><div>[  0.   0. -60.]</div></span></div><input id='attrs-e9adc554-0fd0-49ce-830b-17c55401eccb' class='sc-var-attrs-in' type='checkbox' disabled><label for='attrs-e9adc554-0fd0-49ce-830b-17c55401eccb' class='sc-hide-icon' title='Show/Hide attributes'><svg class='icon sc-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-18132cec-dd72-4db6-947b-ef68776c8795' class='sc-var-data-in' type='checkbox'><label for='data-18132cec-dd72-4db6-947b-ef68776c8795' title='Show/Hide data repr'><svg class='icon sc-icon-database'><use xlink:href='#icon-database'></use></svg></label><pre class='sc-var-data'>Values:<br>array([  0.,   0., -60.])</pre></span></li></ul></div></li><li class='sc-section-item'><input id='section-85bf4666-713e-4c6e-863b-83c23cdbc102' class='sc-section-summary-in' type='checkbox'  checked><label for='section-85bf4666-713e-4c6e-863b-83c23cdbc102' class='sc-section-summary'  title='Expand/collapse section'>Data: <span>(1)</span></label><div class='sc-section-inline-details'></div><div class='sc-section-details'><ul class='sc-var-list'><li class='sc-var-item'><div class='sc-var-name'><span></span></div><div class='sc-var-dims'>(dspacing)</div><div class='sc-var-dtype'>float64</div><div class='sc-var-unit'>ùüô</div><div class='sc-value-preview sc-preview'><span><div>binned data [len=36800, len=34844, ..., len=3, len=3]</div></span></div><input id='attrs-54005e16-de8b-4313-a13e-9d9b5e7117b6' class='sc-var-attrs-in' type='checkbox' disabled><label for='attrs-54005e16-de8b-4313-a13e-9d9b5e7117b6' class='sc-hide-icon' title='Show/Hide attributes'><svg class='icon sc-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-b99a11ed-d954-4312-9a20-8cdc44eef033' class='sc-var-data-in' type='checkbox'><label for='data-b99a11ed-d954-4312-9a20-8cdc44eef033' title='Show/Hide data repr'><svg class='icon sc-icon-database'><use xlink:href='#icon-database'></use></svg></label><pre class='sc-var-data'>dim=&#x27;event&#x27;,
content=DataArray(
          dims=(event: 17926980),
          data=float64[dimensionless],
          coords={&#x27;tof&#x27;:float64[¬µs], &#x27;wavelength&#x27;:float64[√Ö], &#x27;dspacing&#x27;:float64[√Ö]},
          masks={&#x27;tof&#x27;:bool})</pre></li></ul></div></li></ul></div></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[7]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">dspacing_histogram</span> <span class="o">=</span> <span class="n">result</span><span class="o">.</span><span class="n">hist</span><span class="p">()</span>
<span class="n">dspacing_histogram</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[7]:
</pre></div>
</div>
<div class="output_area docutils container">
<img alt="../../_images/user-guide_sns-instruments_POWGEN_data_reduction_11_0.svg" src="../../_images/user-guide_sns-instruments_POWGEN_data_reduction_11_0.svg" />
</div>
</div>
</section>
<section id="Save-reduced-data-to-file">
<h3>Save reduced data to file<a class="headerlink" href="#Save-reduced-data-to-file" title="Link to this heading">#</a></h3>
<p>We ultimately need to write the reduced data to a file. This could be done with the <code class="docutils literal notranslate"><span class="pre">result</span></code> we computed above. But we can use the workflow to provide additional parameters (in this case only the file name) as shown below. See also the <a class="reference external" href="https://scipp.github.io/sciline/recipes/side-effects-and-file-writing.html#File-output">File output</a> docs of Sciline.</p>
<p>For simplicity we write a simply xye file with 3 columns: <span class="math notranslate nohighlight">\(d\)</span>-spacing, intensity, standard deviation of intensity.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[8]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">save_xye</span><span class="p">(</span>
    <span class="n">reduced_data</span><span class="p">:</span> <span class="n">IntensityDspacing</span><span class="p">[</span><span class="n">SampleRun</span><span class="p">],</span>
    <span class="n">out_filename</span><span class="p">:</span> <span class="n">OutFilename</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="n">data</span> <span class="o">=</span> <span class="n">reduced_data</span><span class="o">.</span><span class="n">hist</span><span class="p">()</span>
    <span class="n">data</span><span class="o">.</span><span class="n">coords</span><span class="p">[</span><span class="s2">&quot;dspacing&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">sc</span><span class="o">.</span><span class="n">midpoints</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">coords</span><span class="p">[</span><span class="s2">&quot;dspacing&quot;</span><span class="p">])</span>
    <span class="n">scn</span><span class="o">.</span><span class="n">io</span><span class="o">.</span><span class="n">save_xye</span><span class="p">(</span><span class="n">out_filename</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="n">coord</span><span class="o">=</span><span class="s2">&quot;dspacing&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>Insert a new parameter to set the file name. This could have been done at the top where the other parameters are defined.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[9]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">workflow</span><span class="p">[</span><span class="n">OutFilename</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;reduced.xye&quot;</span>
</pre></div>
</div>
</div>
<p>And use the workflow to write the file. Note that this recomputes the result!</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[10]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">workflow</span><span class="o">.</span><span class="n">bind_and_call</span><span class="p">(</span><span class="n">save_xye</span><span class="p">)</span>
</pre></div>
</div>
</div>
</section>
<section id="Compute-intermediate-results">
<h3>Compute intermediate results<a class="headerlink" href="#Compute-intermediate-results" title="Link to this heading">#</a></h3>
<p>For inspection and debugging purposes, we can also compute intermediate results. To avoid repeated computation (including costly loading of files), we can request multiple results at once, including the final result, if desired. For example:</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[11]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">results</span> <span class="o">=</span> <span class="n">workflow</span><span class="o">.</span><span class="n">compute</span><span class="p">(</span>
    <span class="p">(</span>
        <span class="n">TofDetector</span><span class="p">[</span><span class="n">SampleRun</span><span class="p">],</span>
        <span class="n">CorrectedDetector</span><span class="p">[</span><span class="n">SampleRun</span><span class="p">],</span>
    <span class="p">)</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[12]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">results</span><span class="p">[</span><span class="n">TofDetector</span><span class="p">[</span><span class="n">SampleRun</span><span class="p">]]</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[12]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div><!-- Original source from -->
<!-- https://github.com/jsignell/xarray/blob/1d960933ab252e0f79f7e050e6c9261d55568057/xarray/static/html/icons-svg-inline.html -->
<svg style="position: absolute; width: 0; height: 0; overflow: hidden">
<defs>
<symbol id="icon-database" viewBox="0 0 32 32">
<title>Show/Hide data repr</title>
<path d="M16 0c-8.837 0-16 2.239-16 5v4c0 2.761 7.163 5 16 5s16-2.239 16-5v-4c0-2.761-7.163-5-16-5z"></path>
<path d="M16 17c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
<path d="M16 26c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
</symbol>
<symbol id="icon-file-text2" viewBox="0 0 32 32">
<title>Show/Hide attributes</title>
<path d="M28.681 7.159c-0.694-0.947-1.662-2.053-2.724-3.116s-2.169-2.030-3.116-2.724c-1.612-1.182-2.393-1.319-2.841-1.319h-15.5c-1.378 0-2.5 1.121-2.5 2.5v27c0 1.378 1.122 2.5 2.5 2.5h23c1.378 0 2.5-1.122 2.5-2.5v-19.5c0-0.448-0.137-1.23-1.319-2.841zM24.543 5.457c0.959 0.959 1.712 1.825 2.268 2.543h-4.811v-4.811c0.718 0.556 1.584 1.309 2.543 2.268zM28 29.5c0 0.271-0.229 0.5-0.5 0.5h-23c-0.271 0-0.5-0.229-0.5-0.5v-27c0-0.271 0.229-0.5 0.5-0.5 0 0 15.499-0 15.5 0v7c0 0.552 0.448 1 1 1h7v19.5z"></path>
<path d="M23 26h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
<path d="M23 22h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
<path d="M23 18h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
</symbol>
</defs>
</svg><style id="scipp-style-sheet">.sc-root{--sc-background-color0:var(--jp-layout-color0,#fff);--sc-background-color1:var(--jp-layout-color1,#fcfcfc);--sc-background-color2:var(--jp-layout-color2,#efefef);--sc-inverse-background-color0:var(--jp-inverse-layout-color4,#111);--sc-font-color0:var(--jp-content-font-color0,#000);--sc-font-color1:var(--jp-content-font-color1,#555);--sc-font-color2:var(--jp-content-font-color2,#888);--sc-font-color3:var(--jp-content-font-color3,#ccc);}body.vscode-dark .sc-root{--sc-font-color0:rgba(255,255,255,1);--sc-font-color1:rgba(255,255,255,0.70);--sc-font-color2:rgba(255,255,255,0.54);--sc-font-color3:rgba(255,255,255,0.38);--sc-border-color:#1F1F1F;--sc-disabled-color:#515151;--sc-background-color0:#111111;--sc-background-color1:#111111;--sc-background-color2:#313131;}.sc-wrap{font-size:14px;min-width:300px;max-width:800px;}.sc-var-attrs .sc-wrap{padding-left:3em;}.sc-header{padding-top:6px;padding-bottom:6px;margin-bottom:4px;border-bottom:solid 1px #ddd;}.sc-header > div,.sc-header > ul{display:inline;margin-top:0;margin-bottom:0;}.sc-obj-type,.sc-array-name{margin-left:2px;margin-right:10px;}.sc-obj-type{color:var(--sc-font-color1);}.sc-underlying-size{color:var(--sc-font-color2);}.sc-sections,.reveal .sc-sections{padding-left:0 !important;display:grid;grid-template-columns:150px auto auto auto 1fr 20px 20px;}.sc-section-item{display:contents;}.sc-section-item input{display:none;}.sc-section-item input:enabled + label{cursor:pointer;color:var(--sc-font-color1);}.sc-section-item input:enabled + label:hover{color:var(--sc-font-color0);}.sc-section-summary{grid-column:1;font-weight:500;}.sc-section-summary > span{display:inline-block;padding-left:0.5em;}.sc-section-summary-in:disabled + label{color:var(--sc-font-color1);}.sc-section-summary-in + label:before{display:inline-block;content:'‚ñ∫';font-size:11px;width:15px;text-align:center;}.sc-section-summary-in:disabled + label:before{display:none;}.sc-section-summary-in:checked + label:before{content:'‚ñº';}.sc-section-summary-in:checked + label > span{display:none;}.sc-section-summary,.sc-section-inline-details{padding-top:4px;padding-bottom:4px;}.sc-section-inline-details{grid-column:2 / 6;}.sc-section-details{display:none;grid-column:1 / -1;margin-bottom:5px;}.sc-section-summary-in:checked ~ .sc-section-details{display:contents;}.sc-array-wrap{grid-column:1 / -1;display:grid;grid-template-columns:20px auto;}.sc-array-wrap > label{grid-column:1;vertical-align:top;}.sc-preview{color:var(--sc-font-color2);}.sc-array-preview,.sc-array-data{padding:0 5px !important;grid-column:2;}.sc-array-data,.sc-array-in:checked ~ .sc-array-preview{display:none;}.sc-array-in:checked ~ .sc-array-data,.sc-array-preview{display:inline-block;}.sc-dim-list{display:inline-block !important;list-style:none;padding:0 !important;margin:0;}.sc-dim-list li{display:inline-block;padding:0;margin:0!important;}.sc-dim-list:before{content:'(';}.sc-dim-list:after{content:')';}.sc-dim-list li:not(:last-child):after{content:',';padding-right:5px;}.sc-dim-list li span,.sc-standalone-var-name > span span,.sc-var-name > span span{padding:0 !important;}.sc-aligned{font-weight:bold;}.sc-var-list,.sc-var-item,.reveal .sc-var-list,.reveal .sc-var-item{display:contents;}.sc-var-item > div,.sc-var-item label,.sc-var-item > .sc-var-name span{background-color:var(--sc-background-color1);margin-bottom:0;}.sc-var-item > .sc-var-name:hover span{padding-right:5px;}.sc-var-list > li:nth-child(odd) > div,.sc-var-list > li:nth-child(odd) > label,.sc-var-list > li:nth-child(odd) > .sc-var-name span{background-color:var(--sc-background-color2);}.sc-var-name{grid-column:1;}.sc-var-dims{grid-column:2;}.sc-var-dtype{grid-column:3;text-align:right;color:var(--sc-font-color2);}.sc-var-unit{grid-column:4;text-align:left;color:var(--sc-font-color1);max-width:50pt;text-overflow:ellipsis;}.sc-value-preview{grid-column:5;}.sc-var-preview-variances{text-align:right;}.sc-sections .sc-section-item .sc-section-summary,.sc-sections .sc-section-item .sc-section-inline-details,.sc-section-item .sc-var-list .sc-var-item > div,.sc-section-item .sc-var-list .sc-var-item > label,.sc-section-details .sc-var-list .sc-var-item > div,.sc-section-details .sc-var-list .sc-var-item > label{margin-top:0;margin-bottom:0;}.sc-var-name,.sc-var-dims,.sc-var-dtype,.sc-var-unit,.sc-preview,.sc-attrs dt{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;padding-right:10px;}.sc-var-name:hover,.sc-var-dims:hover,.sc-var-dtype:hover,.sc-var-unit:hover,.sc-attrs dt:hover{overflow:visible;width:auto;z-index:1;}.sc-var-attrs{display:block;}.sc-var-data,.reveal .sc-var-data{display:none;}.sc-var-attrs,.sc-var-data{background-color:var(--sc-background-color0) !important;padding-bottom:5px !important;}.sc-var-attrs-in:checked ~ .sc-var-attrs{display:none;}.sc-var-data-in:checked ~ .sc-var-data{display:block;}.sc-var-data > table{float:right;}.sc-var-name span,.sc-var-data{padding-left:25px !important;}.sc-var-attrs,.sc-var-data{grid-column:1 / -1;}dl.sc-attrs{padding:0;margin:0;display:grid;grid-template-columns:125px auto;}.sc-attrs dt,dd{padding:0;margin:0;float:left;padding-right:10px;width:auto;}.sc-attrs dt{font-weight:normal;grid-column:1;}.sc-attrs dt:hover span{display:inline-block;padding-right:10px;}.sc-attrs dd{grid-column:2;white-space:pre-wrap;word-break:break-all;}.sc-icon-database,.sc-icon-file-text2{display:inline-block;vertical-align:middle;width:1em;height:1.5em !important;stroke-width:0;stroke:currentColor;fill:currentColor;}label.sc-hide-icon svg{opacity:0;}.sc-standalone-var-name{grid-column:1/3;}.sc-standalone-var-name span{padding-left:25px;padding-right:10px;}.sc-title{font-weight:bold;font-size:1.5em;}.sc-subtitle{font-weight:normal;font-style:italic;text-align:left;font-size:1.2em;padding:1px;}.sc-label{fill:var(--sc-font-color0,#444444);text-anchor:middle;}.sc-name{fill:var(--sc-font-color0,#111111);}.sc-inset-line{stroke:var(--sc-font-color1);stroke-width:0.05;stroke-dasharray:0.2,0.2;}.sc-log-wrap{height:25ex;resize:vertical;overflow-y:scroll;display:flex;flex-direction:column-reverse;border:1px solid;border-color:var(--jp-border-color2);background-color:var(--sc-background-color1);}div.sc-log{line-height:2.5ex;}table.sc-log{table-layout:auto;border-collapse:collapse;}tr.sc-log:nth-child(even){background-color:var(--sc-background-color0);}tr.sc-log > td{vertical-align:top;padding-bottom:0.5ex;}.sc-log-time-stamp{min-width:22ch;font-family:var(--jp-code-font-family);color:var(--sc-font-color2);}.sc-log-level{min-width:10ch;}tr.sc-log-debug td.sc-log-level{color:var(--jp-accent-color1);}tr.sc-log-info td.sc-log-level{color:var(--jp-info-color1);}tr.sc-log-warning td.sc-log-level{color:var(--jp-warn-color1);}tr.sc-log-error td.sc-log-level{font-weight:bold;color:var(--jp-error-color2);}tr.sc-log-critical td.sc-log-level{font-weight:bold;color:var(--sc-background-color0);background-color:var(--jp-error-color1);}.sc-log-message{white-space:pre-wrap;width:100%;}.sc-log-html-payload{white-space:normal;}.sc-log-name{padding-right:0.5em;text-align:right;white-space:pre-wrap;color:var(--sc-font-color3);}</style><div class='sc-wrap sc-root'><div class='sc-header'><div class='sc-obj-type'>scipp.DataArray (274.59 MB)</div></div><ul class='sc-sections'><li class='sc-section-item'><input id='section-1f6b17b2-18ee-4c1f-9a24-6b6038ba9bb6' class='sc-section-summary-in' type='checkbox' disabled ><label for='section-1f6b17b2-18ee-4c1f-9a24-6b6038ba9bb6' class='sc-section-summary' >Dimensions:</label><div class='sc-section-inline-details'><ul class='sc-dim-list'><li><span>bank</span>: 23</li><li><span>column</span>: 154</li><li><span>row</span>: 7</li></ul></div><div class='sc-section-details'></div></li><li class='sc-section-item'><input id='section-ff1885e5-d443-4d28-98cb-e821d548e4df' class='sc-section-summary-in' type='checkbox'  checked><label for='section-ff1885e5-d443-4d28-98cb-e821d548e4df' class='sc-section-summary'  title='Expand/collapse section'>Coordinates: <span>(5)</span></label><div class='sc-section-inline-details'></div><div class='sc-section-details'><ul class='sc-var-list'><li class='sc-var-item'><div class='sc-var-name'><span>gd_prtn_chrg</span></div><div class='sc-var-dims'>()</div><div class='sc-var-dtype'>float64</div><div class='sc-var-unit'>¬µAh</div><div class='sc-value-preview sc-preview'><span><div>1171.953902925</div></span></div><input id='attrs-de87687e-490b-46cf-806d-f05c7901c909' class='sc-var-attrs-in' type='checkbox' disabled><label for='attrs-de87687e-490b-46cf-806d-f05c7901c909' class='sc-hide-icon' title='Show/Hide attributes'><svg class='icon sc-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-b8ccadcf-3376-431c-b181-5fc98c6b9e8b' class='sc-var-data-in' type='checkbox'><label for='data-b8ccadcf-3376-431c-b181-5fc98c6b9e8b' title='Show/Hide data repr'><svg class='icon sc-icon-database'><use xlink:href='#icon-database'></use></svg></label><pre class='sc-var-data'>Values:<br>array(1171.95390292)</pre></span></li><li class='sc-var-item'><div class='sc-var-name'><span class='sc-aligned'>position</span></div><div class='sc-var-dims'>(bank, column, row)</div><div class='sc-var-dtype'>vector3</div><div class='sc-var-unit'>m</div><div class='sc-value-preview sc-preview'><span><div>[ 1.17451004 -1.01106149 -2.03796699], [ 1.18147634 -0.95946649 -2.05334117], ..., [1.81428985 0.09565841 3.84338287], [1.81375055 0.1499371  3.84269584]</div></span></div><input id='attrs-06539d57-db10-4aa3-9742-5f24a9cbcbde' class='sc-var-attrs-in' type='checkbox' disabled><label for='attrs-06539d57-db10-4aa3-9742-5f24a9cbcbde' class='sc-hide-icon' title='Show/Hide attributes'><svg class='icon sc-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-1449e61d-6a83-4bb7-a748-dc8c42f346b0' class='sc-var-data-in' type='checkbox'><label for='data-1449e61d-6a83-4bb7-a748-dc8c42f346b0' title='Show/Hide data repr'><svg class='icon sc-icon-database'><use xlink:href='#icon-database'></use></svg></label><pre class='sc-var-data'>Values:<br>array([[[[ 1.17451004, -1.01106149, -2.03796699],
         [ 1.18147634, -0.95946649, -2.05334117],
         [ 1.18844265, -0.90787149, -2.06871534],
         ...,
         [ 1.20237525, -0.80468148, -2.09946369],
         [ 1.20934156, -0.75308648, -2.11483787],
         [ 1.21630786, -0.70149148, -2.13021204]],

        [[ 1.17907562, -1.01107051, -2.03592852],
         [ 1.18604193, -0.95947551, -2.05130269],
         [ 1.19300823, -0.90788051, -2.06667687],
         ...,
         [ 1.20694084, -0.8046905 , -2.09742522],
         [ 1.21390714, -0.7530955 , -2.11279939],
         [ 1.22087344, -0.7015005 , -2.12817357]],

        [[ 1.18364121, -1.01107953, -2.03389005],
         [ 1.19060751, -0.95948453, -2.04926422],
         [ 1.19757381, -0.90788953, -2.06463839],
         ...,
         [ 1.21150642, -0.80469952, -2.09538674],
         [ 1.21847272, -0.75310452, -2.11076092],
         [ 1.22543903, -0.70150952, -2.12613509]],

        ...,

        [[ 1.86391297, -1.01242348, -1.73015741],
         [ 1.87087928, -0.96082848, -1.74553158],
         [ 1.87784558, -0.90923348, -1.76090576],
         ...,
         [ 1.89177819, -0.80604347, -1.79165411],
         [ 1.89874449, -0.75444847, -1.80702828],
         [ 1.90571079, -0.70285347, -1.82240245]],

        [[ 1.86847856, -1.0124325 , -1.72811893],
         [ 1.87544486, -0.9608375 , -1.74349311],
         [ 1.88241116, -0.9092425 , -1.75886728],
         ...,
         [ 1.89634377, -0.80605249, -1.78961563],
         [ 1.90331007, -0.75445749, -1.80498981],
         [ 1.91027638, -0.70286249, -1.82036398]],

        [[ 1.87304414, -1.01244152, -1.72608046],
         [ 1.88001044, -0.96084652, -1.74145463],
         [ 1.88697675, -0.90925152, -1.75682881],
         ...,
         [ 1.90090935, -0.80606151, -1.78757716],
         [ 1.90787566, -0.75446651, -1.80295133],
         [ 1.91484196, -0.70287151, -1.81832551]]],


       [[[ 1.22655272, -0.59102375, -2.15540417],
         [ 1.23017156, -0.53743647, -2.16329377],
         [ 1.23379041, -0.48384919, -2.17118338],
         ...,
         [ 1.24102811, -0.37667462, -2.18696258],
         [ 1.24464695, -0.32308734, -2.19485218],
         [ 1.2482658 , -0.26950005, -2.20274178]],

        [[ 1.23111763, -0.59103168, -2.15336419],
         [ 1.23473648, -0.5374444 , -2.16125379],
         [ 1.23835532, -0.48385712, -2.1691434 ],
         ...,
         [ 1.24559302, -0.37668255, -2.1849226 ],
         [ 1.24921187, -0.32309527, -2.1928122 ],
         [ 1.25283071, -0.26950799, -2.2007018 ]],

        [[ 1.23568254, -0.59103962, -2.15132421],
         [ 1.23930139, -0.53745233, -2.15921381],
         [ 1.24292024, -0.48386505, -2.16710342],
         ...,
         [ 1.25015793, -0.37669048, -2.18288262],
         [ 1.25377678, -0.3231032 , -2.19077222],
         [ 1.25739562, -0.26951592, -2.19866182]],

        ...,

        [[ 1.91585438, -0.59222158, -1.84736718],
         [ 1.91947322, -0.5386343 , -1.85525678],
         [ 1.92309207, -0.48504702, -1.86314638],
         ...,
         [ 1.93032976, -0.37787245, -1.87892558],
         [ 1.93394861, -0.32428517, -1.88681519],
         [ 1.93756746, -0.27069788, -1.89470479]],

        [[ 1.92041929, -0.59222951, -1.8453272 ],
         [ 1.92403813, -0.53864223, -1.8532168 ],
         [ 1.92765698, -0.48505495, -1.8611064 ],
         ...,
         [ 1.93489468, -0.37788038, -1.8768856 ],
         [ 1.93851352, -0.3242931 , -1.88477521],
         [ 1.94213237, -0.27070582, -1.89266481]],

        [[ 1.9249842 , -0.59223745, -1.84328722],
         [ 1.92860305, -0.53865016, -1.85117682],
         [ 1.93222189, -0.48506288, -1.85906642],
         ...,
         [ 1.93945959, -0.37788831, -1.87484562],
         [ 1.94307844, -0.32430103, -1.88273523],
         [ 1.94669728, -0.27071375, -1.89062483]]],


       [[[ 1.25081825, -0.15856081, -2.20904249],
         [ 1.25078313, -0.10427517, -2.20895781],
         [ 1.25074801, -0.04998954, -2.20887313],
         ...,
         [ 1.25067777,  0.05858174, -2.20870378],
         [ 1.25064266,  0.11286738, -2.2086191 ],
         [ 1.25060754,  0.16715301, -2.20853442]],

        [[ 1.25538131, -0.15856105, -2.20699836],
         [ 1.25534619, -0.10427541, -2.20691368],
         [ 1.25531107, -0.04998977, -2.206829  ],
         ...,
         [ 1.25524083,  0.0585815 , -2.20665964],
         [ 1.25520572,  0.11286714, -2.20657496],
         [ 1.2551706 ,  0.16715278, -2.20649029]],

        [[ 1.25994437, -0.15856128, -2.20495422],
         [ 1.25990925, -0.10427565, -2.20486955],
         [ 1.25987413, -0.04999001, -2.20478487],
         ...,
         [ 1.25980389,  0.05858127, -2.20461551],
         [ 1.25976878,  0.1128669 , -2.20453083],
         [ 1.25973366,  0.16715254, -2.20444615]],

        ...,

        [[ 1.93984034, -0.15859654, -1.90037835],
         [ 1.93980522, -0.1043109 , -1.90029367],
         [ 1.93977011, -0.05002527, -1.90020899],
         ...,
         [ 1.93969987,  0.05854601, -1.90003963],
         [ 1.93966475,  0.11283165, -1.89995495],
         [ 1.93962963,  0.16711728, -1.89987028]],

        [[ 1.9444034 , -0.15859678, -1.89833421],
         [ 1.94436828, -0.10431114, -1.89824954],
         [ 1.94433317, -0.0500255 , -1.89816486],
         ...,
         [ 1.94426293,  0.05854577, -1.8979955 ],
         [ 1.94422781,  0.11283141, -1.89791082],
         [ 1.94419269,  0.16711705, -1.89782614]],

        [[ 1.94896646, -0.15859701, -1.89629008],
         [ 1.94893134, -0.10431138, -1.8962054 ],
         [ 1.94889623, -0.05002574, -1.89612072],
         ...,
         [ 1.94882599,  0.05854554, -1.89595137],
         [ 1.94879087,  0.11283117, -1.89586669],
         [ 1.94875575,  0.16711681, -1.89578201]]],


       ...,


       [[[ 3.06103735, -0.16850854,  1.88373044],
         [ 3.06025048, -0.11422854,  1.88377341],
         [ 3.05946361, -0.05994855,  1.88381637],
         ...,
         [ 3.05788987,  0.04861144,  1.8839023 ],
         [ 3.057103  ,  0.10289144,  1.88394527],
         [ 3.05631612,  0.15717143,  1.88398823]],

        [[ 3.05935143, -0.1685367 ,  1.88843755],
         [ 3.05856455, -0.11425671,  1.88848051],
         [ 3.05777768, -0.05997671,  1.88852348],
         ...,
         [ 3.05620394,  0.04858328,  1.88860941],
         [ 3.05541707,  0.10286327,  1.88865237],
         [ 3.0546302 ,  0.15714326,  1.88869534]],

        [[ 3.0576655 , -0.16856487,  1.89314466],
         [ 3.05687863, -0.11428487,  1.89318762],
         [ 3.05609176, -0.06000488,  1.89323059],
         ...,
         [ 3.05451801,  0.04855511,  1.89331651],
         [ 3.05373114,  0.1028351 ,  1.89335948],
         [ 3.05294427,  0.1571151 ,  1.89340244]],

        ...,

        [[ 2.80646223, -0.1727616 ,  2.59450356],
         [ 2.80567536, -0.1184816 ,  2.59454652],
         [ 2.80488849, -0.06420161,  2.59458949],
         ...,
         [ 2.80331474,  0.04435838,  2.59467541],
         [ 2.80252787,  0.09863837,  2.59471838],
         [ 2.801741  ,  0.15291837,  2.59476134]],

        [[ 2.8047763 , -0.17278976,  2.59921066],
         [ 2.80398943, -0.11850977,  2.59925363],
         [ 2.80320256, -0.06422978,  2.59929659],
         ...,
         [ 2.80162882,  0.04433021,  2.59938252],
         [ 2.80084195,  0.09861021,  2.59942549],
         [ 2.80005507,  0.1528902 ,  2.59946845]],

        [[ 2.80309038, -0.17281793,  2.60391777],
         [ 2.8023035 , -0.11853794,  2.60396073],
         [ 2.80151663, -0.06425794,  2.6040037 ],
         ...,
         [ 2.79994289,  0.04430205,  2.60408963],
         [ 2.79915602,  0.09858204,  2.60413259],
         [ 2.79836915,  0.15286204,  2.60417556]]],


       [[[ 2.77462737, -0.17232497,  2.61231542],
         [ 2.77491036, -0.11804396,  2.6129721 ],
         [ 2.77519334, -0.06376296,  2.61362878],
         ...,
         [ 2.77575932,  0.04479905,  2.61494214],
         [ 2.77604231,  0.09908006,  2.61559882],
         [ 2.7763253 ,  0.15336106,  2.6162555 ]],

        [[ 2.77200569, -0.1723628 ,  2.61657281],
         [ 2.77228868, -0.1180818 ,  2.61722949],
         [ 2.77257167, -0.06380079,  2.61788617],
         ...,
         [ 2.77313765,  0.04476122,  2.61919953],
         [ 2.77342063,  0.09904222,  2.61985621],
         [ 2.77370362,  0.15332323,  2.62051289]],

        [[ 2.76938402, -0.17240064,  2.62083021],
         [ 2.76966701, -0.11811964,  2.62148689],
         [ 2.76995   , -0.06383863,  2.62214357],
         ...,
         [ 2.77051597,  0.04472338,  2.62345693],
         [ 2.77079896,  0.09900438,  2.62411361],
         [ 2.77108195,  0.15328539,  2.62477029]],

        ...,

        [[ 2.37875455, -0.17803839,  3.25518171],
         [ 2.37903754, -0.12375738,  3.25583839],
         [ 2.37932053, -0.06947638,  3.25649507],
         ...,
         [ 2.3798865 ,  0.03908563,  3.25780843],
         [ 2.38016949,  0.09336664,  3.25846511],
         [ 2.38045248,  0.14764764,  3.25912179]],

        [[ 2.37613288, -0.17807623,  3.25943911],
         [ 2.37641587, -0.12379522,  3.26009579],
         [ 2.37669885, -0.06951422,  3.26075247],
         ...,
         [ 2.37726483,  0.03904779,  3.26206583],
         [ 2.37754782,  0.0933288 ,  3.26272251],
         [ 2.37783081,  0.1476098 ,  3.26337919]],

        [[ 2.3735112 , -0.17811406,  3.2636965 ],
         [ 2.37379419, -0.12383306,  3.26435318],
         [ 2.37407718, -0.06955205,  3.26500986],
         ...,
         [ 2.37464316,  0.03900996,  3.26632322],
         [ 2.37492614,  0.09329096,  3.2669799 ],
         [ 2.37520913,  0.14757197,  3.26763658]]],


       [[[ 2.34351345, -0.1775281 ,  3.29184866],
         [ 2.34297415, -0.12324941,  3.29116163],
         [ 2.34243485, -0.06897072,  3.2904746 ],
         ...,
         [ 2.34135626,  0.03958665,  3.28910054],
         [ 2.34081696,  0.09386534,  3.28841351],
         [ 2.34027766,  0.14814403,  3.28772648]],

        [[ 2.34007209, -0.17751638,  3.29547591],
         [ 2.33953279, -0.12323769,  3.29478888],
         [ 2.3389935 , -0.068959  ,  3.29410185],
         ...,
         [ 2.3379149 ,  0.03959837,  3.29272779],
         [ 2.33737561,  0.09387706,  3.29204076],
         [ 2.33683631,  0.14815575,  3.29135374]],

        [[ 2.33663074, -0.17750466,  3.29910316],
         [ 2.33609144, -0.12322597,  3.29841613],
         [ 2.33555214, -0.06894728,  3.2977291 ],
         ...,
         [ 2.33447355,  0.03961009,  3.29635504],
         [ 2.33393425,  0.09388878,  3.29566801],
         [ 2.33339496,  0.14816747,  3.29498099]],

        ...,

        [[ 1.82386904, -0.17575847,  3.83956351],
         [ 1.82332975, -0.12147978,  3.83887649],
         [ 1.82279045, -0.06720109,  3.83818946],
         ...,
         [ 1.82171186,  0.04135628,  3.8368154 ],
         [ 1.82117256,  0.09563497,  3.83612837],
         [ 1.82063326,  0.14991366,  3.83544134]],

        [[ 1.82042769, -0.17574675,  3.84319076],
         [ 1.81988839, -0.12146806,  3.84250374],
         [ 1.8193491 , -0.06718937,  3.84181671],
         ...,
         [ 1.8182705 ,  0.041368  ,  3.84044265],
         [ 1.81773121,  0.09564669,  3.83975562],
         [ 1.81719191,  0.14992538,  3.83906859]],

        [[ 1.81698634, -0.17573503,  3.84681802],
         [ 1.81644704, -0.12145634,  3.84613099],
         [ 1.81590774, -0.06717765,  3.84544396],
         ...,
         [ 1.81482915,  0.04137972,  3.8440699 ],
         [ 1.81428985,  0.09565841,  3.84338287],
         [ 1.81375055,  0.1499371 ,  3.84269584]]]], shape=(23, 154, 7, 3))</pre></span></li><li class='sc-var-item'><div class='sc-var-name'><span class='sc-aligned'>sample_position</span></div><div class='sc-var-dims'>()</div><div class='sc-var-dtype'>vector3</div><div class='sc-var-unit'>m</div><div class='sc-value-preview sc-preview'><span><div>[0. 0. 0.]</div></span></div><input id='attrs-9c8085eb-cf85-4878-8eab-9383a63d628c' class='sc-var-attrs-in' type='checkbox' disabled><label for='attrs-9c8085eb-cf85-4878-8eab-9383a63d628c' class='sc-hide-icon' title='Show/Hide attributes'><svg class='icon sc-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-d2b465ea-6145-480a-b699-65c430056b87' class='sc-var-data-in' type='checkbox'><label for='data-d2b465ea-6145-480a-b699-65c430056b87' title='Show/Hide data repr'><svg class='icon sc-icon-database'><use xlink:href='#icon-database'></use></svg></label><pre class='sc-var-data'>Values:<br>array([0., 0., 0.])</pre></span></li><li class='sc-var-item'><div class='sc-var-name'><span class='sc-aligned'>source_position</span></div><div class='sc-var-dims'>()</div><div class='sc-var-dtype'>vector3</div><div class='sc-var-unit'>m</div><div class='sc-value-preview sc-preview'><span><div>[  0.   0. -60.]</div></span></div><input id='attrs-e861556b-41a1-4095-bb9a-b786200ef8f9' class='sc-var-attrs-in' type='checkbox' disabled><label for='attrs-e861556b-41a1-4095-bb9a-b786200ef8f9' class='sc-hide-icon' title='Show/Hide attributes'><svg class='icon sc-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-e23a7bd6-4e81-4d20-b9d7-1f3afccf88ed' class='sc-var-data-in' type='checkbox'><label for='data-e23a7bd6-4e81-4d20-b9d7-1f3afccf88ed' title='Show/Hide data repr'><svg class='icon sc-icon-database'><use xlink:href='#icon-database'></use></svg></label><pre class='sc-var-data'>Values:<br>array([  0.,   0., -60.])</pre></span></li><li class='sc-var-item'><div class='sc-var-name'><span class='sc-aligned'>spectrum</span></div><div class='sc-var-dims'>(bank, column, row)</div><div class='sc-var-dtype'>int32</div><div class='sc-var-unit'></div><div class='sc-value-preview sc-preview'><span><div>1, 2, ..., 24793, 24794</div></span></div><input id='attrs-1d7f6ad6-7d30-45f9-823e-10a2912b72d6' class='sc-var-attrs-in' type='checkbox' disabled><label for='attrs-1d7f6ad6-7d30-45f9-823e-10a2912b72d6' class='sc-hide-icon' title='Show/Hide attributes'><svg class='icon sc-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-52f855b3-8e85-4635-909f-9263293e8ccb' class='sc-var-data-in' type='checkbox'><label for='data-52f855b3-8e85-4635-909f-9263293e8ccb' title='Show/Hide data repr'><svg class='icon sc-icon-database'><use xlink:href='#icon-database'></use></svg></label><pre class='sc-var-data'>Values:<br>array([[[    1,     2,     3, ...,     5,     6,     7],
        [    8,     9,    10, ...,    12,    13,    14],
        [   15,    16,    17, ...,    19,    20,    21],
        ...,
        [ 1058,  1059,  1060, ...,  1062,  1063,  1064],
        [ 1065,  1066,  1067, ...,  1069,  1070,  1071],
        [ 1072,  1073,  1074, ...,  1076,  1077,  1078]],

       [[ 1079,  1080,  1081, ...,  1083,  1084,  1085],
        [ 1086,  1087,  1088, ...,  1090,  1091,  1092],
        [ 1093,  1094,  1095, ...,  1097,  1098,  1099],
        ...,
        [ 2136,  2137,  2138, ...,  2140,  2141,  2142],
        [ 2143,  2144,  2145, ...,  2147,  2148,  2149],
        [ 2150,  2151,  2152, ...,  2154,  2155,  2156]],

       [[ 2157,  2158,  2159, ...,  2161,  2162,  2163],
        [ 2164,  2165,  2166, ...,  2168,  2169,  2170],
        [ 2171,  2172,  2173, ...,  2175,  2176,  2177],
        ...,
        [ 3214,  3215,  3216, ...,  3218,  3219,  3220],
        [ 3221,  3222,  3223, ...,  3225,  3226,  3227],
        [ 3228,  3229,  3230, ...,  3232,  3233,  3234]],

       ...,

       [[21561, 21562, 21563, ..., 21565, 21566, 21567],
        [21568, 21569, 21570, ..., 21572, 21573, 21574],
        [21575, 21576, 21577, ..., 21579, 21580, 21581],
        ...,
        [22618, 22619, 22620, ..., 22622, 22623, 22624],
        [22625, 22626, 22627, ..., 22629, 22630, 22631],
        [22632, 22633, 22634, ..., 22636, 22637, 22638]],

       [[22639, 22640, 22641, ..., 22643, 22644, 22645],
        [22646, 22647, 22648, ..., 22650, 22651, 22652],
        [22653, 22654, 22655, ..., 22657, 22658, 22659],
        ...,
        [23696, 23697, 23698, ..., 23700, 23701, 23702],
        [23703, 23704, 23705, ..., 23707, 23708, 23709],
        [23710, 23711, 23712, ..., 23714, 23715, 23716]],

       [[23717, 23718, 23719, ..., 23721, 23722, 23723],
        [23724, 23725, 23726, ..., 23728, 23729, 23730],
        [23731, 23732, 23733, ..., 23735, 23736, 23737],
        ...,
        [24774, 24775, 24776, ..., 24778, 24779, 24780],
        [24781, 24782, 24783, ..., 24785, 24786, 24787],
        [24788, 24789, 24790, ..., 24792, 24793, 24794]]],
      shape=(23, 154, 7), dtype=int32)</pre></span></li></ul></div></li><li class='sc-section-item'><input id='section-4c562ba8-b8a6-45c2-9089-b4507b688e86' class='sc-section-summary-in' type='checkbox'  checked><label for='section-4c562ba8-b8a6-45c2-9089-b4507b688e86' class='sc-section-summary'  title='Expand/collapse section'>Data: <span>(1)</span></label><div class='sc-section-inline-details'></div><div class='sc-section-details'><ul class='sc-var-list'><li class='sc-var-item'><div class='sc-var-name'><span></span></div><div class='sc-var-dims'>(bank, column, row)</div><div class='sc-var-dtype'>float32</div><div class='sc-var-unit'>counts</div><div class='sc-value-preview sc-preview'><span><div>binned data [len=0, len=0, ..., len=0, len=0]</div></span></div><input id='attrs-c23e3406-5f47-4240-adc0-d4d52aa36762' class='sc-var-attrs-in' type='checkbox' disabled><label for='attrs-c23e3406-5f47-4240-adc0-d4d52aa36762' class='sc-hide-icon' title='Show/Hide attributes'><svg class='icon sc-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-5c9c34a6-5a79-4dd6-b703-da2b7cce70f7' class='sc-var-data-in' type='checkbox'><label for='data-5c9c34a6-5a79-4dd6-b703-da2b7cce70f7' title='Show/Hide data repr'><svg class='icon sc-icon-database'><use xlink:href='#icon-database'></use></svg></label><pre class='sc-var-data'>dim=&#x27;event&#x27;,
content=DataArray(
          dims=(event: 17926980),
          data=float32[counts],
          coords={&#x27;tof&#x27;:float64[¬µs]})</pre></li></ul></div></li></ul></div></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[13]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">results</span><span class="p">[</span><span class="n">CorrectedDetector</span><span class="p">[</span><span class="n">SampleRun</span><span class="p">]]</span><span class="o">.</span><span class="n">bins</span><span class="o">.</span><span class="n">concat</span><span class="p">()</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">wavelength</span><span class="o">=</span><span class="mi">300</span><span class="p">)</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[13]:
</pre></div>
</div>
<div class="output_area docutils container">
<img alt="../../_images/user-guide_sns-instruments_POWGEN_data_reduction_21_0.svg" src="../../_images/user-guide_sns-instruments_POWGEN_data_reduction_21_0.svg" />
</div>
</div>
</section>
</section>
<section id="Group-by-scattering-angle">
<h2>Group by scattering angle<a class="headerlink" href="#Group-by-scattering-angle" title="Link to this heading">#</a></h2>
<p>The above workflow focuses the data by merging all instrument pixels to produce a 1d d-spacing curve. If instead we want to group into <span class="math notranslate nohighlight">\(2\theta\)</span> bins, we can alter the workflow parameters by adding some binning in <span class="math notranslate nohighlight">\(2\theta\)</span>:</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[14]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">workflow</span><span class="p">[</span><span class="n">TwoThetaBins</span><span class="p">]</span> <span class="o">=</span> <span class="n">sc</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span>
    <span class="n">dim</span><span class="o">=</span><span class="s2">&quot;two_theta&quot;</span><span class="p">,</span> <span class="n">unit</span><span class="o">=</span><span class="s2">&quot;deg&quot;</span><span class="p">,</span> <span class="n">start</span><span class="o">=</span><span class="mf">25.0</span><span class="p">,</span> <span class="n">stop</span><span class="o">=</span><span class="mf">90.0</span><span class="p">,</span> <span class="n">num</span><span class="o">=</span><span class="mi">17</span>
<span class="p">)</span><span class="o">.</span><span class="n">to</span><span class="p">(</span><span class="n">unit</span><span class="o">=</span><span class="s2">&quot;rad&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>We then have to request a final result that depends on both d-spacing and <span class="math notranslate nohighlight">\(2\theta\)</span>:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[15]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">workflow</span><span class="o">.</span><span class="n">visualize</span><span class="p">(</span><span class="n">IntensityDspacingTwoTheta</span><span class="p">[</span><span class="n">SampleRun</span><span class="p">],</span> <span class="n">graph_attr</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;rankdir&quot;</span><span class="p">:</span> <span class="s2">&quot;LR&quot;</span><span class="p">})</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[15]:
</pre></div>
</div>
<div class="output_area docutils container">
<img alt="../../_images/user-guide_sns-instruments_POWGEN_data_reduction_25_0.svg" src="../../_images/user-guide_sns-instruments_POWGEN_data_reduction_25_0.svg" />
</div>
</div>
<p>Compute and plot the result:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[16]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">grouped_dspacing</span> <span class="o">=</span> <span class="n">workflow</span><span class="o">.</span><span class="n">compute</span><span class="p">(</span><span class="n">IntensityDspacingTwoTheta</span><span class="p">[</span><span class="n">SampleRun</span><span class="p">])</span>
<span class="n">grouped_dspacing</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[16]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div><!-- Original source from -->
<!-- https://github.com/jsignell/xarray/blob/1d960933ab252e0f79f7e050e6c9261d55568057/xarray/static/html/icons-svg-inline.html -->
<svg style="position: absolute; width: 0; height: 0; overflow: hidden">
<defs>
<symbol id="icon-database" viewBox="0 0 32 32">
<title>Show/Hide data repr</title>
<path d="M16 0c-8.837 0-16 2.239-16 5v4c0 2.761 7.163 5 16 5s16-2.239 16-5v-4c0-2.761-7.163-5-16-5z"></path>
<path d="M16 17c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
<path d="M16 26c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
</symbol>
<symbol id="icon-file-text2" viewBox="0 0 32 32">
<title>Show/Hide attributes</title>
<path d="M28.681 7.159c-0.694-0.947-1.662-2.053-2.724-3.116s-2.169-2.030-3.116-2.724c-1.612-1.182-2.393-1.319-2.841-1.319h-15.5c-1.378 0-2.5 1.121-2.5 2.5v27c0 1.378 1.122 2.5 2.5 2.5h23c1.378 0 2.5-1.122 2.5-2.5v-19.5c0-0.448-0.137-1.23-1.319-2.841zM24.543 5.457c0.959 0.959 1.712 1.825 2.268 2.543h-4.811v-4.811c0.718 0.556 1.584 1.309 2.543 2.268zM28 29.5c0 0.271-0.229 0.5-0.5 0.5h-23c-0.271 0-0.5-0.229-0.5-0.5v-27c0-0.271 0.229-0.5 0.5-0.5 0 0 15.499-0 15.5 0v7c0 0.552 0.448 1 1 1h7v19.5z"></path>
<path d="M23 26h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
<path d="M23 22h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
<path d="M23 18h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
</symbol>
</defs>
</svg><style id="scipp-style-sheet">.sc-root{--sc-background-color0:var(--jp-layout-color0,#fff);--sc-background-color1:var(--jp-layout-color1,#fcfcfc);--sc-background-color2:var(--jp-layout-color2,#efefef);--sc-inverse-background-color0:var(--jp-inverse-layout-color4,#111);--sc-font-color0:var(--jp-content-font-color0,#000);--sc-font-color1:var(--jp-content-font-color1,#555);--sc-font-color2:var(--jp-content-font-color2,#888);--sc-font-color3:var(--jp-content-font-color3,#ccc);}body.vscode-dark .sc-root{--sc-font-color0:rgba(255,255,255,1);--sc-font-color1:rgba(255,255,255,0.70);--sc-font-color2:rgba(255,255,255,0.54);--sc-font-color3:rgba(255,255,255,0.38);--sc-border-color:#1F1F1F;--sc-disabled-color:#515151;--sc-background-color0:#111111;--sc-background-color1:#111111;--sc-background-color2:#313131;}.sc-wrap{font-size:14px;min-width:300px;max-width:800px;}.sc-var-attrs .sc-wrap{padding-left:3em;}.sc-header{padding-top:6px;padding-bottom:6px;margin-bottom:4px;border-bottom:solid 1px #ddd;}.sc-header > div,.sc-header > ul{display:inline;margin-top:0;margin-bottom:0;}.sc-obj-type,.sc-array-name{margin-left:2px;margin-right:10px;}.sc-obj-type{color:var(--sc-font-color1);}.sc-underlying-size{color:var(--sc-font-color2);}.sc-sections,.reveal .sc-sections{padding-left:0 !important;display:grid;grid-template-columns:150px auto auto auto 1fr 20px 20px;}.sc-section-item{display:contents;}.sc-section-item input{display:none;}.sc-section-item input:enabled + label{cursor:pointer;color:var(--sc-font-color1);}.sc-section-item input:enabled + label:hover{color:var(--sc-font-color0);}.sc-section-summary{grid-column:1;font-weight:500;}.sc-section-summary > span{display:inline-block;padding-left:0.5em;}.sc-section-summary-in:disabled + label{color:var(--sc-font-color1);}.sc-section-summary-in + label:before{display:inline-block;content:'‚ñ∫';font-size:11px;width:15px;text-align:center;}.sc-section-summary-in:disabled + label:before{display:none;}.sc-section-summary-in:checked + label:before{content:'‚ñº';}.sc-section-summary-in:checked + label > span{display:none;}.sc-section-summary,.sc-section-inline-details{padding-top:4px;padding-bottom:4px;}.sc-section-inline-details{grid-column:2 / 6;}.sc-section-details{display:none;grid-column:1 / -1;margin-bottom:5px;}.sc-section-summary-in:checked ~ .sc-section-details{display:contents;}.sc-array-wrap{grid-column:1 / -1;display:grid;grid-template-columns:20px auto;}.sc-array-wrap > label{grid-column:1;vertical-align:top;}.sc-preview{color:var(--sc-font-color2);}.sc-array-preview,.sc-array-data{padding:0 5px !important;grid-column:2;}.sc-array-data,.sc-array-in:checked ~ .sc-array-preview{display:none;}.sc-array-in:checked ~ .sc-array-data,.sc-array-preview{display:inline-block;}.sc-dim-list{display:inline-block !important;list-style:none;padding:0 !important;margin:0;}.sc-dim-list li{display:inline-block;padding:0;margin:0!important;}.sc-dim-list:before{content:'(';}.sc-dim-list:after{content:')';}.sc-dim-list li:not(:last-child):after{content:',';padding-right:5px;}.sc-dim-list li span,.sc-standalone-var-name > span span,.sc-var-name > span span{padding:0 !important;}.sc-aligned{font-weight:bold;}.sc-var-list,.sc-var-item,.reveal .sc-var-list,.reveal .sc-var-item{display:contents;}.sc-var-item > div,.sc-var-item label,.sc-var-item > .sc-var-name span{background-color:var(--sc-background-color1);margin-bottom:0;}.sc-var-item > .sc-var-name:hover span{padding-right:5px;}.sc-var-list > li:nth-child(odd) > div,.sc-var-list > li:nth-child(odd) > label,.sc-var-list > li:nth-child(odd) > .sc-var-name span{background-color:var(--sc-background-color2);}.sc-var-name{grid-column:1;}.sc-var-dims{grid-column:2;}.sc-var-dtype{grid-column:3;text-align:right;color:var(--sc-font-color2);}.sc-var-unit{grid-column:4;text-align:left;color:var(--sc-font-color1);max-width:50pt;text-overflow:ellipsis;}.sc-value-preview{grid-column:5;}.sc-var-preview-variances{text-align:right;}.sc-sections .sc-section-item .sc-section-summary,.sc-sections .sc-section-item .sc-section-inline-details,.sc-section-item .sc-var-list .sc-var-item > div,.sc-section-item .sc-var-list .sc-var-item > label,.sc-section-details .sc-var-list .sc-var-item > div,.sc-section-details .sc-var-list .sc-var-item > label{margin-top:0;margin-bottom:0;}.sc-var-name,.sc-var-dims,.sc-var-dtype,.sc-var-unit,.sc-preview,.sc-attrs dt{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;padding-right:10px;}.sc-var-name:hover,.sc-var-dims:hover,.sc-var-dtype:hover,.sc-var-unit:hover,.sc-attrs dt:hover{overflow:visible;width:auto;z-index:1;}.sc-var-attrs{display:block;}.sc-var-data,.reveal .sc-var-data{display:none;}.sc-var-attrs,.sc-var-data{background-color:var(--sc-background-color0) !important;padding-bottom:5px !important;}.sc-var-attrs-in:checked ~ .sc-var-attrs{display:none;}.sc-var-data-in:checked ~ .sc-var-data{display:block;}.sc-var-data > table{float:right;}.sc-var-name span,.sc-var-data{padding-left:25px !important;}.sc-var-attrs,.sc-var-data{grid-column:1 / -1;}dl.sc-attrs{padding:0;margin:0;display:grid;grid-template-columns:125px auto;}.sc-attrs dt,dd{padding:0;margin:0;float:left;padding-right:10px;width:auto;}.sc-attrs dt{font-weight:normal;grid-column:1;}.sc-attrs dt:hover span{display:inline-block;padding-right:10px;}.sc-attrs dd{grid-column:2;white-space:pre-wrap;word-break:break-all;}.sc-icon-database,.sc-icon-file-text2{display:inline-block;vertical-align:middle;width:1em;height:1.5em !important;stroke-width:0;stroke:currentColor;fill:currentColor;}label.sc-hide-icon svg{opacity:0;}.sc-standalone-var-name{grid-column:1/3;}.sc-standalone-var-name span{padding-left:25px;padding-right:10px;}.sc-title{font-weight:bold;font-size:1.5em;}.sc-subtitle{font-weight:normal;font-style:italic;text-align:left;font-size:1.2em;padding:1px;}.sc-label{fill:var(--sc-font-color0,#444444);text-anchor:middle;}.sc-name{fill:var(--sc-font-color0,#111111);}.sc-inset-line{stroke:var(--sc-font-color1);stroke-width:0.05;stroke-dasharray:0.2,0.2;}.sc-log-wrap{height:25ex;resize:vertical;overflow-y:scroll;display:flex;flex-direction:column-reverse;border:1px solid;border-color:var(--jp-border-color2);background-color:var(--sc-background-color1);}div.sc-log{line-height:2.5ex;}table.sc-log{table-layout:auto;border-collapse:collapse;}tr.sc-log:nth-child(even){background-color:var(--sc-background-color0);}tr.sc-log > td{vertical-align:top;padding-bottom:0.5ex;}.sc-log-time-stamp{min-width:22ch;font-family:var(--jp-code-font-family);color:var(--sc-font-color2);}.sc-log-level{min-width:10ch;}tr.sc-log-debug td.sc-log-level{color:var(--jp-accent-color1);}tr.sc-log-info td.sc-log-level{color:var(--jp-info-color1);}tr.sc-log-warning td.sc-log-level{color:var(--jp-warn-color1);}tr.sc-log-error td.sc-log-level{font-weight:bold;color:var(--jp-error-color2);}tr.sc-log-critical td.sc-log-level{font-weight:bold;color:var(--sc-background-color0);background-color:var(--jp-error-color1);}.sc-log-message{white-space:pre-wrap;width:100%;}.sc-log-html-payload{white-space:normal;}.sc-log-name{padding-right:0.5em;text-align:right;white-space:pre-wrap;color:var(--sc-font-color3);}</style><div class='sc-wrap sc-root'><div class='sc-header'><div class='sc-obj-type'>scipp.DataArray (277.29 MB)</div></div><ul class='sc-sections'><li class='sc-section-item'><input id='section-edf2e676-c4f4-4196-91a9-69d08a39498f' class='sc-section-summary-in' type='checkbox' disabled ><label for='section-edf2e676-c4f4-4196-91a9-69d08a39498f' class='sc-section-summary' >Dimensions:</label><div class='sc-section-inline-details'><ul class='sc-dim-list'><li><span class='sc-has-index'>two_theta</span>: 16</li><li><span class='sc-has-index'>dspacing</span>: 200</li></ul></div><div class='sc-section-details'></div></li><li class='sc-section-item'><input id='section-8e2fe273-90af-4782-9b3f-2dde70aa63c3' class='sc-section-summary-in' type='checkbox'  checked><label for='section-8e2fe273-90af-4782-9b3f-2dde70aa63c3' class='sc-section-summary'  title='Expand/collapse section'>Coordinates: <span>(4)</span></label><div class='sc-section-inline-details'></div><div class='sc-section-details'><ul class='sc-var-list'><li class='sc-var-item'><div class='sc-var-name'><span class='sc-aligned'>dspacing</span></div><div class='sc-var-dims'>(dspacing [bin-edge])</div><div class='sc-var-dtype'>float64</div><div class='sc-var-unit'>√Ö</div><div class='sc-value-preview sc-preview'><span><div>0.0, 0.012, ..., 2.332, 2.343</div></span></div><input id='attrs-3730621e-8f1e-45ea-8fe5-bbcf5dce2779' class='sc-var-attrs-in' type='checkbox' disabled><label for='attrs-3730621e-8f1e-45ea-8fe5-bbcf5dce2779' class='sc-hide-icon' title='Show/Hide attributes'><svg class='icon sc-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-35f26142-bb78-45d6-93ea-5d96965fa6d2' class='sc-var-data-in' type='checkbox'><label for='data-35f26142-bb78-45d6-93ea-5d96965fa6d2' title='Show/Hide data repr'><svg class='icon sc-icon-database'><use xlink:href='#icon-database'></use></svg></label><pre class='sc-var-data'>Values:<br>array([0.      , 0.011717, 0.023434, 0.035151, 0.046868, 0.058585,
       0.070302, 0.082019, 0.093736, 0.105453, 0.11717 , 0.128887,
       0.140604, 0.152321, 0.164038, 0.175755, 0.187472, 0.199189,
       0.210906, 0.222623, 0.23434 , 0.246057, 0.257774, 0.269491,
       0.281208, 0.292925, 0.304642, 0.316359, 0.328076, 0.339793,
       0.35151 , 0.363227, 0.374944, 0.386661, 0.398378, 0.410095,
       0.421812, 0.433529, 0.445246, 0.456963, 0.46868 , 0.480397,
       0.492114, 0.503831, 0.515548, 0.527265, 0.538982, 0.550699,
       0.562416, 0.574133, 0.58585 , 0.597567, 0.609284, 0.621001,
       0.632718, 0.644435, 0.656152, 0.667869, 0.679586, 0.691303,
       0.70302 , 0.714737, 0.726454, 0.738171, 0.749888, 0.761605,
       0.773322, 0.785039, 0.796756, 0.808473, 0.82019 , 0.831907,
       0.843624, 0.855341, 0.867058, 0.878775, 0.890492, 0.902209,
       0.913926, 0.925643, 0.93736 , 0.949077, 0.960794, 0.972511,
       0.984228, 0.995945, 1.007662, 1.019379, 1.031096, 1.042813,
       1.05453 , 1.066247, 1.077964, 1.089681, 1.101398, 1.113115,
       1.124832, 1.136549, 1.148266, 1.159983, 1.1717  , 1.183417,
       1.195134, 1.206851, 1.218568, 1.230285, 1.242002, 1.253719,
       1.265436, 1.277153, 1.28887 , 1.300587, 1.312304, 1.324021,
       1.335738, 1.347455, 1.359172, 1.370889, 1.382606, 1.394323,
       1.40604 , 1.417757, 1.429474, 1.441191, 1.452908, 1.464625,
       1.476342, 1.488059, 1.499776, 1.511493, 1.52321 , 1.534927,
       1.546644, 1.558361, 1.570078, 1.581795, 1.593512, 1.605229,
       1.616946, 1.628663, 1.64038 , 1.652097, 1.663814, 1.675531,
       1.687248, 1.698965, 1.710682, 1.722399, 1.734116, 1.745833,
       1.75755 , 1.769267, 1.780984, 1.792701, 1.804418, 1.816135,
       1.827852, 1.839569, 1.851286, 1.863003, 1.87472 , 1.886437,
       1.898154, 1.909871, 1.921588, 1.933305, 1.945022, 1.956739,
       1.968456, 1.980173, 1.99189 , 2.003607, 2.015324, 2.027041,
       2.038758, 2.050475, 2.062192, 2.073909, 2.085626, 2.097343,
       2.10906 , 2.120777, 2.132494, 2.144211, 2.155928, 2.167645,
       2.179362, 2.191079, 2.202796, 2.214513, 2.22623 , 2.237947,
       2.249664, 2.261381, 2.273098, 2.284815, 2.296532, 2.308249,
       2.319966, 2.331683, 2.3434  ])</pre></span></li><li class='sc-var-item'><div class='sc-var-name'><span>sample_position</span></div><div class='sc-var-dims'>()</div><div class='sc-var-dtype'>vector3</div><div class='sc-var-unit'>m</div><div class='sc-value-preview sc-preview'><span><div>[0. 0. 0.]</div></span></div><input id='attrs-9478cdcc-2320-4e11-ad47-5c70d23c63d7' class='sc-var-attrs-in' type='checkbox' disabled><label for='attrs-9478cdcc-2320-4e11-ad47-5c70d23c63d7' class='sc-hide-icon' title='Show/Hide attributes'><svg class='icon sc-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-f5f1d16d-adeb-4d23-9019-544ca4734ad6' class='sc-var-data-in' type='checkbox'><label for='data-f5f1d16d-adeb-4d23-9019-544ca4734ad6' title='Show/Hide data repr'><svg class='icon sc-icon-database'><use xlink:href='#icon-database'></use></svg></label><pre class='sc-var-data'>Values:<br>array([0., 0., 0.])</pre></span></li><li class='sc-var-item'><div class='sc-var-name'><span>source_position</span></div><div class='sc-var-dims'>()</div><div class='sc-var-dtype'>vector3</div><div class='sc-var-unit'>m</div><div class='sc-value-preview sc-preview'><span><div>[  0.   0. -60.]</div></span></div><input id='attrs-bba34119-65d8-40bc-bc43-599fb9a41b93' class='sc-var-attrs-in' type='checkbox' disabled><label for='attrs-bba34119-65d8-40bc-bc43-599fb9a41b93' class='sc-hide-icon' title='Show/Hide attributes'><svg class='icon sc-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-bd01612c-8148-4dca-b53b-e4b3783eeb33' class='sc-var-data-in' type='checkbox'><label for='data-bd01612c-8148-4dca-b53b-e4b3783eeb33' title='Show/Hide data repr'><svg class='icon sc-icon-database'><use xlink:href='#icon-database'></use></svg></label><pre class='sc-var-data'>Values:<br>array([  0.,   0., -60.])</pre></span></li><li class='sc-var-item'><div class='sc-var-name'><span class='sc-aligned'>two_theta</span></div><div class='sc-var-dims'>(two_theta [bin-edge])</div><div class='sc-var-dtype'>float64</div><div class='sc-var-unit'>rad</div><div class='sc-value-preview sc-preview'><span><div>0.436, 0.507, ..., 1.500, 1.571</div></span></div><input id='attrs-2e85f59d-0179-4b5a-8f9d-bb1d1dfb6bff' class='sc-var-attrs-in' type='checkbox' disabled><label for='attrs-2e85f59d-0179-4b5a-8f9d-bb1d1dfb6bff' class='sc-hide-icon' title='Show/Hide attributes'><svg class='icon sc-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-edb2b326-e408-483b-889d-f52c1723db4a' class='sc-var-data-in' type='checkbox'><label for='data-edb2b326-e408-483b-889d-f52c1723db4a' title='Show/Hide data repr'><svg class='icon sc-icon-database'><use xlink:href='#icon-database'></use></svg></label><pre class='sc-var-data'>Values:<br>array([0.43633231, 0.50723631, 0.57814031, 0.64904432, 0.71994832,
       0.79085232, 0.86175632, 0.93266032, 1.00356432, 1.07446832,
       1.14537232, 1.21627632, 1.28718032, 1.35808432, 1.42898833,
       1.49989233, 1.57079633])</pre></span></li></ul></div></li><li class='sc-section-item'><input id='section-bfe99842-d818-45f3-82d6-9b3c67a81e00' class='sc-section-summary-in' type='checkbox'  checked><label for='section-bfe99842-d818-45f3-82d6-9b3c67a81e00' class='sc-section-summary'  title='Expand/collapse section'>Data: <span>(1)</span></label><div class='sc-section-inline-details'></div><div class='sc-section-details'><ul class='sc-var-list'><li class='sc-var-item'><div class='sc-var-name'><span></span></div><div class='sc-var-dims'>(two_theta, dspacing)</div><div class='sc-var-dtype'>float64</div><div class='sc-var-unit'>ùüô</div><div class='sc-value-preview sc-preview'><span><div>binned data [len=112, len=125, ..., len=0, len=0]</div></span></div><input id='attrs-0bb106bd-2971-498e-9daf-8292db9b7f8b' class='sc-var-attrs-in' type='checkbox' disabled><label for='attrs-0bb106bd-2971-498e-9daf-8292db9b7f8b' class='sc-hide-icon' title='Show/Hide attributes'><svg class='icon sc-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-4dc62628-916b-4663-b1e0-d07394497828' class='sc-var-data-in' type='checkbox'><label for='data-4dc62628-916b-4663-b1e0-d07394497828' title='Show/Hide data repr'><svg class='icon sc-icon-database'><use xlink:href='#icon-database'></use></svg></label><pre class='sc-var-data'>dim=&#x27;event&#x27;,
content=DataArray(
          dims=(event: 7090240),
          data=float64[dimensionless],
          coords={&#x27;tof&#x27;:float64[¬µs], &#x27;wavelength&#x27;:float64[√Ö], &#x27;dspacing&#x27;:float64[√Ö]},
          masks={&#x27;tof&#x27;:bool})</pre></li></ul></div></li><li class='sc-section-item'><input id='section-32f0e5a2-d549-41c9-bd65-ac1fa3fc300c' class='sc-section-summary-in' type='checkbox'  checked><label for='section-32f0e5a2-d549-41c9-bd65-ac1fa3fc300c' class='sc-section-summary'  title='Expand/collapse section'>Masks: <span>(1)</span></label><div class='sc-section-inline-details'></div><div class='sc-section-details'><ul class='sc-var-list'><li class='sc-var-item'><div class='sc-var-name'><span>zero_vanadium</span></div><div class='sc-var-dims'>(two_theta, dspacing)</div><div class='sc-var-dtype'>bool</div><div class='sc-var-unit'></div><div class='sc-value-preview sc-preview'><span><div>False, False, ..., True, True</div></span></div><input id='attrs-35252e12-8efd-48eb-a656-56d9b4eb2f8d' class='sc-var-attrs-in' type='checkbox' disabled><label for='attrs-35252e12-8efd-48eb-a656-56d9b4eb2f8d' class='sc-hide-icon' title='Show/Hide attributes'><svg class='icon sc-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-a0709116-c68b-49d5-b848-807bb7202795' class='sc-var-data-in' type='checkbox'><label for='data-a0709116-c68b-49d5-b848-807bb7202795' title='Show/Hide data repr'><svg class='icon sc-icon-database'><use xlink:href='#icon-database'></use></svg></label><pre class='sc-var-data'>Values:<br>array([[False, False, False, ..., False, False, False],
       [False, False, False, ...,  True,  True,  True],
       [False, False, False, ...,  True,  True,  True],
       ...,
       [False, False, False, ...,  True,  True,  True],
       [False, False, False, ...,  True,  True,  True],
       [False, False, False, ...,  True,  True,  True]], shape=(16, 200))</pre></span></li></ul></div></li></ul></div></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[17]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">angle</span> <span class="o">=</span> <span class="n">sc</span><span class="o">.</span><span class="n">midpoints</span><span class="p">(</span><span class="n">grouped_dspacing</span><span class="o">.</span><span class="n">coords</span><span class="p">[</span><span class="s2">&quot;two_theta&quot;</span><span class="p">])</span>
<span class="n">sc</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span>
    <span class="p">{</span>
        <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">angle</span><span class="p">[</span><span class="n">group</span><span class="p">]</span><span class="o">.</span><span class="n">value</span><span class="si">:</span><span class="s2">.3f</span><span class="si">}</span><span class="s2"> </span><span class="si">{</span><span class="n">angle</span><span class="p">[</span><span class="n">group</span><span class="p">]</span><span class="o">.</span><span class="n">unit</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">:</span> <span class="n">grouped_dspacing</span><span class="p">[</span>
            <span class="s2">&quot;two_theta&quot;</span><span class="p">,</span> <span class="n">group</span>
        <span class="p">]</span><span class="o">.</span><span class="n">hist</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">group</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">6</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[17]:
</pre></div>
</div>
<div class="output_area docutils container">
<img alt="../../_images/user-guide_sns-instruments_POWGEN_data_reduction_28_0.svg" src="../../_images/user-guide_sns-instruments_POWGEN_data_reduction_28_0.svg" />
</div>
</div>
<p>Or we can view it as a 2D plot, which should display powder peaks as vertical bright lines:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[18]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">grouped_dspacing</span><span class="o">.</span><span class="n">hist</span><span class="p">()</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[18]:
</pre></div>
</div>
<div class="output_area docutils container">
<img alt="../../_images/user-guide_sns-instruments_POWGEN_data_reduction_30_0.svg" src="../../_images/user-guide_sns-instruments_POWGEN_data_reduction_30_0.svg" />
</div>
</div>
</section>
</section>


                </article>
              
              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="index.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">SNS instruments</p>
      </div>
    </a>
    <a class="right-next"
       href="../common/index.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Common Tools</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
            
          </div>
          <footer class="bd-footer-content">
            
          </footer>
        
      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script defer src="../../_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf"></script>
<script defer src="../../_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf"></script>

  <footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">
  
    <div class="footer-items__start">
      
        <div class="footer-item">

  <p class="copyright">
    
      ¬© Copyright 2025 Scipp contributors.
      <br/>
    
  </p>
</div>
      
        <div class="footer-item">

  <p class="sphinx-version">
    Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 9.0.4.
    <br/>
  </p>
</div>
      
    </div>
  
  
  
    <div class="footer-items__end">
      
        <div class="footer-item"><!-- This will display the version of the docs -->
Current ESSdiffraction version: 26.2.0 (<a href="https://github.com/scipp/essdiffraction/releases">older versions</a>).</div>
      
        <div class="footer-item">
<p class="theme-version">
  <!-- # L10n: Setting the PST URL as an argument as this does not need to be localized -->
  Built with the <a href="https://pydata-sphinx-theme.readthedocs.io/en/stable/index.html">PyData Sphinx Theme</a> 0.16.1.
</p></div>
      
    </div>
  
</div>

  </footer>
  </body>
</html>